{"version":3,"sources":["webpack:///./src/components/content/CommentBox.vue?9e0b","webpack:///src/components/content/CommentBox.vue","webpack:///./src/components/content/CommentBox.vue?bd08","webpack:///./src/components/content/CommentBox.vue","webpack:///./src/components/content/CommentLine.vue?01dc","webpack:///./src/views/mv-detail/MvDetail.vue?7bf2","webpack:///./src/views/singerdetail/index.vue?a318","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./src/views/playlistdetail/index.vue?a4b2","webpack:///src/views/playlistdetail/index.vue","webpack:///./src/views/playlistdetail/index.vue?ac6d","webpack:///./src/views/playlistdetail/index.vue","webpack:///./src/views/albumdetail/AlbumDetail.vue?13ca","webpack:///./src/views/singerdetail/index.vue?4e11","webpack:///src/views/singerdetail/index.vue","webpack:///./src/views/singerdetail/index.vue?9bb2","webpack:///./src/views/singerdetail/index.vue","webpack:///./src/components/content/CommentBox.vue?162e","webpack:///./src/assets/images/squareUser.png","webpack:///./src/views/video-detail/VideoDetail.vue?aa68","webpack:///src/views/video-detail/VideoDetail.vue","webpack:///./src/views/video-detail/VideoDetail.vue?a7af","webpack:///./src/views/video-detail/VideoDetail.vue","webpack:///./src/components/content/CommentLine.vue?8aa9","webpack:///src/components/content/CommentLine.vue","webpack:///./src/components/content/CommentLine.vue?c058","webpack:///./src/components/content/CommentLine.vue","webpack:///./src/views/albumdetail/AlbumDetail.vue?5ac0","webpack:///src/views/albumdetail/AlbumDetail.vue","webpack:///./src/views/albumdetail/AlbumDetail.vue?250f","webpack:///./src/views/albumdetail/AlbumDetail.vue","webpack:///./src/views/video-detail/VideoDetail.vue?1ccf","webpack:///./src/views/playlistdetail/index.vue?7044","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./src/views/mv-detail/MvDetail.vue?beab","webpack:///src/views/mv-detail/MvDetail.vue","webpack:///./src/views/mv-detail/MvDetail.vue?430c","webpack:///./src/views/mv-detail/MvDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","userInfo","_v","_s","nickname","on","toLogin","currentCommentId","cancelComment","_e","attrs","avatarUrl","directives","name","rawName","value","expression","class","disabled","loginStatus","placeholder","domProps","$event","target","composing","commentContent","restFont","fontMaxLength","commentSubmit","staticRenderFns","data","props","type","Number","String","default","clearText","Boolean","computed","length","JSON","parse","sessionStorage","getItem","getUserInfo","$bus","$on","getLoginStatus","watch","newVal","methods","$emit","ELEMENT","Message","$router","push","component","fixRegExpWellKnownSymbolLogic","anObject","toObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","undefined","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","call","regexp","indexOf","res","done","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","matchStr","accumulatedResult","nextSourcePosition","i","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f","detail","coverImgUrl","toUser","creator","userId","_f","createTime","tags","_l","item","key","toPlayList","description","txtLength","openDesc","songs","isPerson","subscribed","collectArtist","_m","subscribers","staticStyle","emptyText","relatedList","id","toDetail","emptyRelated","comments","commentId","user","time","content","emptyComment","artistId","screenLoading","components","sheetSongList","txt","created","$route","query","_initialize","_normalizeSongs","arr","MessageBox","alert","message","title","closeOnClickModal","customClass","showConfirmButton","dangerouslyUseHTMLString","params","cate","path","getPlayListDetail","getRelatedPlayList","getSubscribers","getSheetComment","img1v1Url","level","gender","followed","followSinger","briefDesc","musicSize","albumSize","mvSize","followeds","active","tabItem","albums","mvs","Object","keys","singerDesc","ti","singers","singerDetail","userDetail","singerId","navList","limit","offset","songSheetList","albumList","mvList","singerList","prettyEmpty","myId","_initailize","list","forEach","_normalizeVideos","nickName","artistName","playCount","duration","picUrl","imgurl16v9","getArtists","getArtistAlbum","getArtistMv","getArtistDesc","getArtistSimi","module","exports","videoUrl","toVideo","publishTime","playTime","videoDetailInfo","isLike","likeResource","likedCount","subscribeCount","shareCount","commentCount","hotComments","commentReply","commentLike","commentDelete","currentPage","commentTotal","handleSizeChange","handleCurrentChange","vid","live","isLive","toDetailOrLive","coverUrl","slot","durationms","author","userName","videoId","commentBox","commentLine","_initailze","window","open","tagId","tagName","val","getVideoComments","getVideoUrl","getVideoDetail","getVideoDetailInfo","getVideoRelated","comment","liked","subItem","beRepliedCommentId","toSingerDetail","company","hotAlbums","toAlbumDetail","artist","emptyAlbum","albumId","$","DESCRIPTORS","has","isObject","defineProperty","copyConstructorProperties","NativeSymbol","Symbol","prototype","EmptyStringDescriptionStore","SymbolWrapper","arguments","symbolPrototype","constructor","symbolToString","toString","native","configurable","get","symbol","valueOf","string","desc","replace","forced","subCount","toSinger","cover","artists","getMvComments","getMvUrl","getMvDetail","getMvDetailInfo","getMvRelated"],"mappings":"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","file":"js/detail.c85c3e54.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-box\"},[_c('div',{staticClass:\"flex-between\"},[_c('span',[(_vm.userInfo.nickname)?_c('span',[_c('i',{staticClass:\"iconfont niceuser\"}),_vm._v(\" \"+_vm._s(_vm.userInfo.nickname)+\" \")]):_c('span',{staticClass:\"login-btn\",on:{\"click\":_vm.toLogin}},[_vm._v(\"评论请先登录\")])]),(_vm.currentCommentId!='')?_c('button',{staticClass:\"cancel-comment\",on:{\"click\":_vm.cancelComment}},[_vm._v(\"取消回复 \")]):_vm._e()]),_c('div',{staticClass:\"comment-form\"},[_c('div',{staticClass:\"avatar\"},[(_vm.userInfo.avatarUrl)?_c('img',{attrs:{\"src\":_vm.userInfo.avatarUrl,\"alt\":\"\"}}):_c('img',{attrs:{\"src\":require(\"../../assets/images/squareUser.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"comment-area\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.commentContent),expression:\"commentContent\"}],class:{disabled:!_vm.loginStatus},attrs:{\"name\":\"comment\",\"disabled\":!_vm.loginStatus,\"placeholder\":_vm.placeholder,\"maxlength\":\"1000\"},domProps:{\"value\":(_vm.commentContent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.commentContent=$event.target.value}}}),_c('span',{staticClass:\"rest-tip\"},[_vm._v(_vm._s(_vm.restFont)+\" / \"+_vm._s(_vm.fontMaxLength))])])]),_c('div',{staticClass:\"comment-foot\"},[_c('button',{directives:[{name:\"preventReclick\",rawName:\"v-preventReclick\",value:(2000),expression:\"2000\"}],staticClass:\"comment-btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.commentSubmit}},[_vm._v(\"评论\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 发表评论组件 -->\n  <!-- 评论请先登录 -->\n  <div class=\"comment-box\">\n    <div class=\"flex-between\">\n      <span>\n        <span v-if=\"userInfo.nickname\">\n          <i class=\"iconfont niceuser\"></i>\n          &emsp;{{userInfo.nickname}}\n        </span>\n        <span class=\"login-btn\" v-else @click=\"toLogin\">评论请先登录</span>\n      </span>\n      <!-- 点击CommentList组件的单条评论的回复按钮时才显示 -->\n      <button class=\"cancel-comment\" v-if=\"currentCommentId!=''\"\n        @click=\"cancelComment\">取消回复\n      </button>\n    </div>\n    <div class=\"comment-form\">\n      <div class=\"avatar\">\n        <!-- 未登录则显示默认头像 -->\n        <img :src=\"userInfo.avatarUrl\" alt=\"\" v-if=\"userInfo.avatarUrl\">\n        <img src=\"../../assets/images/squareUser.png\" alt=\"\" v-else>\n      </div>\n      <div class=\"comment-area\">\n        <!-- cols:可见宽度 row:可见高度  -->\n        <textarea name=\"comment\" :disabled=\"!loginStatus\"\n          :class=\"{disabled:!loginStatus}\" v-model=\"commentContent\"\n          :placeholder=\"placeholder\" maxlength=\"1000\">\n        </textarea>\n        <span class=\"rest-tip\">{{restFont}} / {{fontMaxLength}}</span>\n      </div>\n    </div>\n    <div class=\"comment-foot\">\n      <button class=\"comment-btn\" type=\"button\" v-preventReclick=\"2000\"\n        @click=\"commentSubmit\">评论</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nexport default {\n  data() {\n    return {\n      // 评论内容\n      commentContent: ''\n    }\n  },\n  props: {\n    currentCommentId: {\n      type: [Number, String]\n    },\n    // 可输入的最大字数\n    fontMaxLength: {\n      type: [Number, String],\n      default: 1000\n    },\n    // 清空文本框\n    clearText: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    ...mapGetters(['getUserInfo', 'getLoginStatus']),\n    // 剩余可输入的字数\n    restFont() {\n      return Number(this.fontMaxLength) - this.commentContent.length\n    },\n    // 我的用户信息\n    userInfo() {\n      return JSON.parse(sessionStorage.getItem('myInfo')) || this.getUserInfo\n    },\n    // 登录状态\n    loginStatus() {\n      this.$bus.$on('forceUpdate', () => {\n        this.$router.go(0)\n      })\n      if (JSON.parse(sessionStorage.getItem('loginStatus'))) {\n        return true\n      }\n      return this.getLoginStatus\n    },\n    // 文本框的提示文字\n    placeholder() {\n      if (this.loginStatus) {\n        return '等你来评论~'\n      } else {\n        return '登录后才能评论哦~'\n      }\n    }\n  },\n  watch: {\n    currentCommentId(newVal, oldVal) {\n      // 回复不同的评论或取消回复，清空文本框的内容\n      this.commentContent = ''\n    },\n    // 发布完评论清空文本框\n    clearText(newVal) {\n      if (newVal) {\n        this.commentContent = ''\n      }\n    }\n  },\n  methods: {\n    // 提交评论\n    commentSubmit() {\n      if (this.loginStatus === false) {\n        ELEMENT.Message('评论请先登录')\n        return\n      }\n      this.$emit('commentsubmit', this.commentContent)\n    },\n    // 取消评论\n    cancelComment() {\n      this.$emit('cancelcomment')\n    },\n    // 跳转到登录页面\n    toLogin() {\n      this.$router.push('/login')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-box {\n  margin-top: 20px;\n  div {\n    span {\n      i {\n        margin-right: 10px;\n      }\n      .login-btn {\n        cursor: pointer;\n        transition: color 0.2s;\n        &:hover {\n          color: #fa2800;\n        }\n      }\n    }\n    .cancel-comment {\n      padding: 6px 10px;\n      border: 1px solid #bbb;\n      border-radius: 2px;\n      color: #bbb;\n      font-size: 12px;\n      background-color: #fff;\n      cursor: pointer;\n    }\n  }\n  .comment-form {\n    display: flex;\n    margin-top: 20px;\n    .avatar {\n      flex-shrink: 0;\n      width: 50px;\n      height: 50px;\n      margin-right: 20px;\n      border-radius: 3px;\n      img {\n        width: 100%;\n        border-radius: 3px;\n      }\n    }\n    .comment-area {\n      flex: 1;\n      position: relative;\n      padding: 10px 12px 30px;\n      border: 1px solid #eaebff;\n      border-radius: 3px;\n      background-color: #f8f9ff;\n      textarea {\n        width: 100%;\n        // 显示5行，且文字不会被挡去一部分\n        height: 80px;\n        line-height: 16px;\n        outline: none;\n        background-color: #f8f9ff;\n        // 取消文本域拖动变大变小\n        resize: none;\n        color: #666;\n        font-size: 13px;\n        &.disabled {\n          cursor: not-allowed;\n        }\n      }\n      .rest-tip {\n        position: absolute;\n        bottom: 8px;\n        right: 15px;\n        line-height: 20px;\n        color: #999;\n        font-weight: 500;\n      }\n    }\n  }\n  .comment-foot {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    margin-top: 15px;\n    .comment-btn {\n      padding: 10px 30px;\n      border-radius: 3px;\n      border: 0;\n      outline: none;\n      cursor: pointer;\n      color: #fff;\n      background: #ff416c; /* fallback for old browsers */\n      /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n      background: linear-gradient(to right, #ff4b2b, #ff416c);\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentBox.vue?vue&type=template&id=6443e7dc&scoped=true&\"\nimport script from \"./CommentBox.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentBox.vue?vue&type=style&index=0&id=6443e7dc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6443e7dc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentLine.vue?vue&type=style&index=0&id=4f8b491d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentLine.vue?vue&type=style&index=0&id=4f8b491d&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MvDetail.vue?vue&type=style&index=0&id=7b870ad7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MvDetail.vue?vue&type=style&index=0&id=7b870ad7&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=af39ee7c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=af39ee7c&lang=scss&scoped=true&\"","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playlist-detail container\"},[_c('div',{staticClass:\"left shadow\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.detail.coverImgUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title flex-row\"},[_c('p',[_vm._v(_vm._s(_vm.detail.name))])]),_c('div',{staticClass:\"user flex-row\"},[_c('div',{staticClass:\"avatar\",on:{\"click\":function($event){return _vm.toUser(_vm.creator.userId)}}},[_c('img',{attrs:{\"src\":_vm.creator.avatarUrl,\"alt\":\"\"}})]),_c('span',{staticClass:\"nickname\",on:{\"click\":function($event){return _vm.toUser(_vm.creator.userId)}}},[_vm._v(\" \"+_vm._s(_vm.creator.nickname))]),(_vm.detail.createTime)?_c('span',{staticClass:\"createTime\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(_vm.detail.createTime,'YYYY-MM-DD'))+\" 创建 \")]):_vm._e()]),(_vm.detail.tags&&_vm.detail.tags.length>0)?_c('div',{staticClass:\"tag flex-row\"},[_vm._v(\" 标签：\"),_vm._l((_vm.detail.tags),function(item){return _c('a',{key:item,on:{\"click\":function($event){return _vm.toPlayList(item)}}},[_vm._v(_vm._s(item))])})],2):_vm._e(),_c('div',{staticClass:\"desc\"},[_c('p',{staticClass:\"ellipsis-two\",domProps:{\"innerHTML\":_vm._s(_vm.detail.description)}}),(_vm.txtLength(_vm.detail.description)>50)?_c('span',{staticClass:\"flex-row\",on:{\"click\":function($event){return _vm.openDesc(_vm.detail.description,_vm.detail.name)}}},[_vm._v(\"全部 \"),_c('i',{staticClass:\"iconfont niceiconfontyoujiantou-copy-copy-copy-copy\"})]):_vm._e()])])]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.screenLoading),expression:\"screenLoading\"}],staticClass:\"content\"},[_c('sheet-song-list',{attrs:{\"songs\":_vm.songs,\"is-person\":_vm.isPerson,\"subscribed\":_vm.detail.subscribed},on:{\"collectartist\":_vm.collectArtist}})],1)]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"like module shadow\"},[_vm._m(0),(_vm.subscribers.length>0)?_c('ul',_vm._l((_vm.subscribers),function(item){return _c('li',{key:item.userId},[_c('div',{staticClass:\"avatar\",on:{\"click\":function($event){return _vm.toUser(item.userId)}}},[_c('img',{attrs:{\"src\":item.avatarUrl,\"alt\":\"\",\"title\":item.nickname}})])])}),0):_c('p',{staticClass:\"no-data-text\",staticStyle:{\"padding-bottom\":\"10px\"}},[_vm._v(\" \"+_vm._s(_vm.emptyText)+\" \")])]),_c('div',{staticClass:\"related module shadow\"},[_vm._m(1),(_vm.relatedList.length>0)?_c('ul',_vm._l((_vm.relatedList),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.toDetail(item.id)}}},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":item.coverImgUrl,\"alt\":\"\",\"title\":item.nickname}})]),_c('div',{staticClass:\"info\"},[_c('h2',{staticClass:\"ellipsis\",attrs:{\"title\":item.name}},[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(\"By.\"),_c('small',[_vm._v(_vm._s(item.creator.nickname))])])])])}),0):_c('p',{staticClass:\"no-data-text\",staticStyle:{\"padding-bottom\":\"10px\"}},[_vm._v(\" \"+_vm._s(_vm.emptyRelated)+\" \")])]),_c('div',{staticClass:\"comment module shadow\"},[_vm._m(2),(_vm.comments.length>0)?_c('ul',_vm._l((_vm.comments),function(item){return _c('li',{key:item.commentId,staticClass:\"item\"},[_c('div',{staticClass:\"avatar\",on:{\"click\":function($event){return _vm.toUser(item.user.userId)}}},[_c('img',{attrs:{\"src\":item.user.avatarUrl,\"alt\":\"\",\"title\":item.user.nickname}})]),_c('div',{staticClass:\"info\"},[_c('span',{on:{\"click\":function($event){return _vm.toUser(item.user.userId)}}},[_vm._v(\" \"+_vm._s(item.user.nickname)),_c('small',[_vm._v(\" · \"+_vm._s(_vm._f(\"formatTimeBefore\")(item.time)))])]),_c('p',[_vm._v(_vm._s(item.content))])])])}),0):_c('p',{staticClass:\"no-data-text\",staticStyle:{\"padding-bottom\":\"10px\"}},[_vm._v(\" \"+_vm._s(_vm.emptyComment)+\" \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"喜欢这个歌单的人\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"相关推荐\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"精彩评论\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <!-- 歌单的歌曲列表页面（歌单详情页面） -->\n  <div class=\"playlist-detail container\">\n    <!-- 左侧 -->\n    <div class=\"left shadow\">\n      <!-- 左侧顶部 -->\n      <div class=\"top\">\n        <div class=\"avatar\">\n          <img :src=\"detail.coverImgUrl\" alt=\"\">\n        </div>\n        <div class=\"info\">\n          <div class=\"title flex-row\">\n            <p>{{detail.name}}</p>\n          </div>\n          <div class=\"user flex-row\">\n            <div class=\"avatar\" @click=\"toUser(creator.userId)\">\n              <img :src=\"creator.avatarUrl\" alt=\"\">\n            </div>\n            <span class=\"nickname\" @click=\"toUser(creator.userId)\">\n              {{creator.nickname}}</span>\n            <span class=\"createTime\" v-if=\"detail.createTime\">\n              {{detail.createTime | formatDate('YYYY-MM-DD')}} 创建\n            </span>\n          </div>\n          <div class=\"tag flex-row\" v-if=\"detail.tags&&detail.tags.length>0\">\n            标签：<a v-for=\"item in detail.tags\" :key=\"item\"\n              @click=\"toPlayList(item)\">{{item}}</a>\n          </div>\n          <div class=\"desc\">\n            <p class=\"ellipsis-two\" v-html=\"detail.description\"></p>\n            <span class=\"flex-row\" v-if=\"txtLength(detail.description)>50\"\n              @click=\"openDesc(detail.description,detail.name)\">全部\n              <i\n                class=\"iconfont niceiconfontyoujiantou-copy-copy-copy-copy\"></i>\n            </span>\n          </div>\n        </div>\n      </div>\n      <!-- 左侧内容 -->\n      <!-- v-loading是element loading组件（加载+遮罩层）的指令方式 fullscreen是全屏遮罩修饰符 -->\n      <!-- 默认状况下，Loading 遮罩会插入到绑定元素的子节点 -->\n      <div class=\"content\" v-loading=\"screenLoading\">\n        <sheet-song-list :songs=\"songs\" :is-person=\"isPerson\"\n          @collectartist=\"collectArtist\" :subscribed=\"detail.subscribed\">\n        </sheet-song-list>\n      </div>\n    </div>\n    <!-- 右侧 -->\n    <div class=\"right\">\n      <!-- 喜欢这个歌单的人 -->\n      <div class=\"like module shadow\">\n        <div class=\"card-header flex-row\">\n          <span>喜欢这个歌单的人</span>\n        </div>\n        <ul v-if=\"subscribers.length>0\">\n          <li v-for=\"item in subscribers\" :key=\"item.userId\">\n            <div class=\"avatar\" @click=\"toUser(item.userId)\">\n              <img :src=\"item.avatarUrl\" alt=\"\" :title=\"item.nickname\">\n            </div>\n          </li>\n        </ul>\n        <p class=\"no-data-text\" v-else style=\"padding-bottom:10px;\">\n          {{emptyText}}\n        </p>\n      </div>\n      <!-- 相关推荐 -->\n      <div class=\"related module shadow\">\n        <div class=\"card-header flex-row\">\n          <span>相关推荐</span>\n        </div>\n        <ul v-if=\"relatedList.length>0\">\n          <li v-for=\"item in relatedList\" :key=\"item.id\"\n            @click=\"toDetail(item.id)\">\n            <div class=\"avatar\">\n              <img :src=\"item.coverImgUrl\" alt=\"\" :title=\"item.nickname\">\n            </div>\n            <div class=\"info\">\n              <h2 class=\"ellipsis\" :title=\"item.name\">{{item.name}}</h2>\n              <span>By.<small>{{item.creator.nickname}}</small></span>\n            </div>\n          </li>\n        </ul>\n        <p class=\"no-data-text\" v-else style=\"padding-bottom:10px;\">\n          {{emptyRelated}}\n        </p>\n      </div>\n      <!-- 精彩评论 -->\n      <div class=\"comment module shadow\">\n        <div class=\"card-header flex-row\">\n          <span>精彩评论</span>\n        </div>\n        <ul v-if=\"comments.length>0\">\n          <li class=\"item\" v-for=\"item in comments\" :key=\"item.commentId\">\n            <div class=\"avatar\" @click=\"toUser(item.user.userId)\">\n              <img :src=\"item.user.avatarUrl\" alt=\"\"\n                :title=\"item.user.nickname\">\n            </div>\n            <div class=\"info\">\n              <span @click=\"toUser(item.user.userId)\">\n                {{item.user.nickname}}<small> ·\n                  {{item.time | formatTimeBefore}}</small>\n              </span>\n              <p>{{item.content}}</p>\n            </div>\n          </li>\n        </ul>\n        <p class=\"no-data-text\" v-else style=\"padding-bottom:10px;\">\n          {{emptyComment}}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { createSong } from '../../utils/untils'\nimport sheetSongList from '../../components/content/SheetSongList'\nexport default {\n  name: 'playListDetail',\n  data() {\n    return {\n      // 歌单详情\n      detail: {},\n      // 歌单创建者信息\n      creator: {},\n      // 收藏这个歌单的用户\n      subscribers: [],\n      // 相关歌单\n      relatedList: [],\n      // 评论\n      comments: [],\n      // 歌曲列表\n      songs: [],\n      // 歌单id\n      artistId: '',\n      // 遮罩并加载\n      screenLoading: false,\n      // 是否自己的歌单,如果是则不显示收藏按钮\n      isPerson: false,\n      // 没有人收藏该歌单时显示的文本\n      emptyText: '',\n      // 没有相关推荐时显示的文本\n      emptyRelated: '',\n      // 没有评论时显示的文本\n      emptyComment: ''\n    }\n  },\n  components: {\n    sheetSongList\n  },\n  computed: {\n    // 歌单的描述文字的长度\n    txtLength() {\n      return function(txt) {\n        if (txt) {\n          return txt.length\n        }\n      }\n    }\n  },\n  created() {\n    this.artistId = this.$route.query.id\n    this._initialize(this.artistId)\n  },\n  watch: {\n    // 因为设置了 <router-view :key=\"$route.fullPath\"></router-view>\n    // url的参数发生变化，路由就会重新创建，因为不是同一路由，所以$route不会出现新值和旧值\n    // 因此不需要watch\n    // $route(newPath, oldPath) {\n    //   if (newPath && newPath !== oldPath) {\n    //     this.artistId = this.$route.query.id\n    //     this._initialize(this.artistId)\n    //   }\n    // }\n  },\n  methods: {\n    // 获取歌单详情\n    // id是歌单id, s是歌单最近的s个收藏者，默认为8\n    async getPlayListDetail(id, s) {\n      const res = await this.$api.getPlayListDetail(id, s)\n      if (res.code === 200) {\n        if (res.playlist.description !== null) {\n          // ()标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。\n          // | 是 \"或\"，g是全局匹配\n          // 替换掉换行符为br标签\n          // replace方法返回一个新字符串\n          res.playlist.description = res.playlist.description.replace(\n            /(\\r\\n|\\n|\\r)/g,\n            '<br />'\n          )\n        }\n        this.detail = res.playlist\n        this.creator = res.playlist.creator\n        let trackIds = res.playlist.trackIds\n\n        // 是否自己的歌单\n        if (sessionStorage.getItem('myInfo')) {\n          let myId =\n            JSON.parse(sessionStorage.getItem('myInfo')).userId ||\n            this.$store.getters.getUserInfo.userId\n          if (this.creator.userId === myId) {\n            this.isPerson = true\n          }\n        }\n        // 数量超过1000，进行分割\n        // 想了一下，不用分割的，直接拿全部trackIds 请求一次 song/detail 接口获取所有歌曲的详情\n        // let arrLength = 1000\n        // let sliceArr = []\n        // for (let i = 0; i < trackIds.length; i += arrLength) {\n        //   if (i + arrLength >= trackIds.length) {\n        //     sliceArr.push(trackIds.slice(i, trackIds.length))\n        //   } else {\n        //     sliceArr.push(trackIds.slice(i, i + arrLength))\n        //   }\n        // }\n        // this.getSongDetail(sliceArr)\n        this.getSongDetail(trackIds)\n      }\n    },\n    // 获取多首歌曲的歌曲详情\n    async getSongDetail(arr) {\n      this.screenLoading = true\n      // let before = arr[0]\n      // let after = arr[1]\n      // let beforeIds = []\n      // let afterIds = []\n      // before.forEach(item => beforeIds.push(item.id))\n      // beforeIds = beforeIds.join(',')\n      // if (after && after.length !== 0) {\n      //   after.forEach(item => afterIds.push(item.id))\n      //   afterIds = afterIds.join(',')\n      //   const beforeRes = await this.$api.getSongDetail(beforeIds)\n      //   const afterRes = await this.$api.getSongDetail(afterIds)\n      //   const res = beforeRes.songs.concat(afterRes.songs)\n      //   this.songs = this._normalizeSongs(res)\n      // } else {\n      //   const beforeRes = await this.$api.getSongDetail(beforeIds)\n      //   const res = beforeRes.songs\n      //   this.songs = this._normalizeSongs(res)\n      // }\n      let ids = []\n      arr.forEach(item => ids.push(item.id))\n      try {\n        const res = await this.$api.getSongDetail(ids.join(','))\n        this.songs = this._normalizeSongs(res.songs)\n        // 请求失败是不会往下执行的，所以要用try和catch，将遮罩关闭\n        this.screenLoading = false\n      } catch (e) {\n        this.screenLoading = false\n      }\n    },\n    // 处理歌曲\n    _normalizeSongs(list) {\n      let arr = list.map(item => {\n        if (item.id) {\n          return createSong(item)\n        }\n      })\n      return arr\n    },\n    // 获取相关歌单推荐\n    // id是当前歌单的id\n    async getRelatedPlayList(id) {\n      let res = await this.$api.getRelatedPlayList(id)\n      if (res.code === 200) {\n        this.relatedList = res.playlists\n        if (res.playlists.length === 0) {\n          this.emptyRelated = '还没有相关推荐~'\n        }\n      }\n    },\n    // 获取歌单收藏者\n    // id是当前歌单的id\n    async getSubscribers(id) {\n      const params = {\n        id,\n        limit: 28, // 收藏者数量\n        offset: 0, // 偏移量\n        timestamp: new Date().getTime()\n      }\n      const res = await this.$api.getSubscribers(params)\n      if (res.code === 200) {\n        this.subscribers = res.subscribers\n        // 收藏者数量为0时\n        if (res.subscribers.length === 0) {\n          this.emptyText = '还没有人喜欢~'\n        }\n      }\n    },\n    // 获取歌单评论\n    // id是当前歌单的id\n    async getSheetComment(id) {\n      const params = {\n        id,\n        // 评论数量\n        limit: 28,\n        offset: 0\n      }\n      const res = await this.$api.getSheetComment(params)\n      if (res.code === 200) {\n        // 因为所有评论数量可能会有点多，所以有热门评论就直接显示热门评论\n        if (res.hotComments.length > 0) {\n          this.comments = res.hotComments\n        } else {\n          this.comments = res.comments\n        }\n        // 评论数量为0时\n        if (this.comments.length === 0) {\n          this.emptyComment = '等你来评论~'\n        }\n      }\n    },\n    // 打开歌单介绍详情\n    openDesc(message, title) {\n      ELEMENT.MessageBox.alert(message, title, {\n        // 是否可通过点击遮罩关闭\n        closeOnClickModal: true,\n        // MessageBox 的自定义类名\n        customClass: 'descBox',\n        // 是否显示确认按钮\n        showConfirmButton: false,\n        // 是否将 message 属性作为 HTML 片段处理\n        dangerouslyUseHTMLString: true\n      }).catch(e => {})\n    },\n    // 收藏或取消收藏歌单\n    async collectArtist() {\n      if (\n        sessionStorage.getItem('cookie') &&\n        sessionStorage.getItem('token') &&\n        JSON.parse(sessionStorage.getItem('loginStatus'))\n      ) {\n        let message = this.detail.subscribed ? '已取消收藏' : '收藏成功'\n        // 如果已收藏过该歌单\n        if (this.detail.subscribed) {\n          ELEMENT.MessageBox.confirm('确认取消收藏该歌单', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'info'\n          })\n            .then(async () => {\n              // t : 类型,1:收藏,2:取消收藏\n              let t = this.detail.subscribed ? 2 : 1\n              const res = await this.$api.collectArtist(t, this.artistId)\n              if (res.code === 200) {\n                this.detail.subscribed = !this.detail.subscribed\n                ELEMENT.Message.success(message)\n                // 刷新收藏者\n                this.getSubscribers(this.artistId)\n              }\n            })\n            .catch(e => {})\n        } else {\n          // t : 类型,1:收藏,2:取消收藏\n          let t = this.detail.subscribed ? 2 : 1\n          const res = await this.$api.collectArtist(t, this.artistId)\n          if (res.code === 200) {\n            this.detail.subscribed = !this.detail.subscribed\n            ELEMENT.Message.success(message)\n            // 刷新收藏者\n            this.getSubscribers(this.artistId)\n          }\n        }\n      } else {\n        ELEMENT.Message('请先登录')\n        setTimeout(() => {\n          this.$router.push('/login')\n        }, 500)\n      }\n    },\n    // 点击标签跳转到歌单列表页面\n    toPlayList(cate) {\n      this.$router.push({\n        name: 'playlist',\n        params: {\n          cate\n        }\n      })\n    },\n    // 点击推荐歌单跳转到另一个歌单详情页面\n    toDetail(id) {\n      this.$router.push({\n        path: '/playlistdetail',\n        query: {\n          id\n        }\n      })\n    },\n    // 点击跳转到用户页面\n    toUser(id) {\n      this.$router.push({\n        path: '/personal',\n        query: { id }\n      })\n    },\n    // 初始化\n    _initialize(id) {\n      this.getPlayListDetail(id, 100)\n      this.getRelatedPlayList(id)\n      this.getSubscribers(id)\n      this.getSheetComment(id)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.playlist-detail {\n  display: flex;\n  align-items: flex-start;\n  .left {\n    flex-shrink: 0;\n    width: 950px;\n    padding: 15px;\n    border-radius: 8px;\n    margin-right: 20px;\n    .top {\n      display: flex;\n      & > .avatar {\n        flex-shrink: 0;\n        position: relative;\n        width: 200px;\n        height: 200px;\n        border-radius: 8px;\n        margin-right: 30px;\n        img {\n          position: relative;\n          z-index: 1;\n          width: 100%;\n          height: 100%;\n          border-radius: 8px;\n        }\n        &::after {\n          content: '';\n          position: absolute;\n          top: 15px;\n          right: -5px;\n          z-index: 0;\n          width: 95%;\n          height: 95%;\n          border-radius: 8px;\n          background-color: rgba(0, 0, 0, 0.2);\n        }\n      }\n      .info {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        .title {\n          width: 100%;\n          line-height: 24px;\n          margin: 10px 0 20px 0;\n          font-size: 24px;\n          font-weight: 700;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n        .user {\n          margin-bottom: 15px;\n          .avatar {\n            position: relative;\n            width: 30px;\n            height: 30px;\n            margin-right: 15px;\n            border-radius: 50%;\n            cursor: pointer;\n            img {\n              width: 100%;\n              height: 100%;\n              border-radius: 50%;\n            }\n          }\n          .nickname {\n            font-size: 14px;\n            margin-right: 20px;\n            cursor: pointer;\n            transition: color 0.2s;\n            &:hover {\n              color: #fa2800;\n            }\n          }\n          .createTime {\n            font-size: 14px;\n            color: #808080;\n          }\n        }\n        .tag {\n          a {\n            padding: 4px 12px;\n            margin-right: 15px;\n            border-radius: 15px;\n            color: #fff;\n            font-size: 12px;\n            cursor: pointer;\n            background-color: #fa2800;\n          }\n        }\n        .desc {\n          display: flex;\n          flex-direction: column;\n          line-height: 1.6;\n          margin-top: 15px;\n          p {\n            flex: 1;\n            font-size: 14px;\n          }\n          span {\n            flex-shrink: 0;\n            color: #fa2800;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n    .content {\n      margin-top: 20px;\n    }\n  }\n  .right {\n    flex-shrink: 0;\n    width: 350px;\n    .module {\n      padding: 15px;\n      width: 100%;\n      border-radius: 8px;\n      margin-bottom: 20px;\n      .card-header {\n        height: 20px;\n        padding-left: 14px;\n        margin-bottom: 15px;\n        border-left: 3px solid #fa2800;\n        font-weight: 700;\n      }\n    }\n    .like {\n      padding-bottom: 5px;\n      ul {\n        display: flex;\n        flex-wrap: wrap;\n        margin: 0 -5px;\n        li {\n          // 每行7个li\n          flex: 0 0 14.28%;\n          max-width: 14.28%;\n          padding: 0 5px 10px;\n          cursor: pointer;\n          .avatar {\n            width: 100%;\n            border-radius: 3px;\n            overflow: hidden;\n            img {\n              width: 100%;\n              border-radius: 3px;\n            }\n          }\n        }\n      }\n    }\n    .related {\n      padding-bottom: 5px;\n      ul {\n        li {\n          display: flex;\n          margin-bottom: 15px;\n          cursor: pointer;\n          .avatar {\n            flex-shrink: 0;\n            width: 50px;\n            height: 50px;\n            margin-right: 15px;\n            border-radius: 3px;\n            img {\n              width: 100%;\n              border-radius: 3px;\n            }\n          }\n          .info {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            height: 50px;\n            overflow: hidden;\n            h2 {\n              width: 100%;\n              height: 100%;\n              margin-bottom: 10px;\n              font-size: 14px;\n              color: #4a4a4a;\n              transition: color 0.2s;\n            }\n            span {\n              font-size: 12px;\n              color: #a5a5c1;\n            }\n            &:hover {\n              h2 {\n                color: #fa2800;\n              }\n            }\n          }\n        }\n      }\n    }\n    .comment {\n      ul {\n        li {\n          display: flex;\n          width: 100%;\n          padding: 10px 0;\n          .avatar {\n            flex-shrink: 0;\n            width: 38px;\n            height: 38px;\n            margin-right: 12px;\n            border-radius: 50%;\n            cursor: pointer;\n            img {\n              width: 100%;\n              border-radius: 50%;\n            }\n          }\n          .info {\n            flex: 1;\n            span {\n              margin: 0 5px 10px 0;\n              font-size: 15px;\n              cursor: pointer;\n              small {\n                font-size: 12px;\n                color: #a5a5c1;\n                font-weight: 200;\n              }\n            }\n            p {\n              width: 100%;\n              padding: 5px 10px;\n              margin-top: 5px;\n              line-height: 1.6;\n              border-radius: 3px;\n              font-size: 12px;\n              color: #666;\n              background-color: #f5f5f5;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e348d1c4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=e348d1c4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e348d1c4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumDetail.vue?vue&type=style&index=0&id=70efe47b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumDetail.vue?vue&type=style&index=0&id=70efe47b&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"singer-detail\"},[_c('div',{staticClass:\"singer-info\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"top-mask\"},[_c('div',{staticClass:\"singer-box flex-column flex-center\"},[_c('div',{staticClass:\"avatar transition\"},[_c('img',{attrs:{\"src\":_vm.detail.img1v1Url+'?param=200y200',\"alt\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.level),expression:\"level\"}],staticClass:\"level flex-center\"},[_c('i',{class:['iconfont','icon-level',_vm.level]})])]),_c('p',{staticClass:\"nickname\"},[_vm._v(\" \"+_vm._s(_vm.detail.name)+\" \"),_c('i',{staticClass:\"iconfont\",class:_vm.gender})]),(!_vm.followed)?_c('div',{staticClass:\"follow flex-center\",on:{\"click\":_vm.followSinger}},[_c('i',{staticClass:\"iconfont niceIcon_add\"}),_vm._v(\" 关注TA \")]):(_vm.followed)?_c('div',{staticClass:\"follow flex-center\",on:{\"click\":_vm.followSinger}},[_vm._v(\" 已关注 \")]):_c('div',{staticClass:\"empty\"}),_c('div',{staticClass:\"desc ellipsis-two\",domProps:{\"innerHTML\":_vm._s(_vm.detail.briefDesc)}}),_c('ul',{staticClass:\"info flex-center\"},[_c('li',[_c('p',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.detail.musicSize))]),_c('p',{staticClass:\"text\"},[_vm._v(\"单曲数\")])]),_c('li',[_c('p',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.detail.albumSize))]),_c('p',{staticClass:\"text\"},[_vm._v(\"专辑数\")])]),_c('li',[_c('p',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.detail.mvSize))]),_c('p',{staticClass:\"text\"},[_vm._v(\"MV数\")])]),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.detail.followeds),expression:\"detail.followeds\"}]},[_c('p',{staticClass:\"num\"},[_vm._v(_vm._s(_vm._f(\"transNum\")(_vm.detail.followeds,1)))]),_c('p',{staticClass:\"text\"},[_vm._v(\"粉丝\")])])])])]),_c('div',{staticClass:\"bottom-trangle\"})]),_c('div',{staticClass:\"bottom container\"},[_c('ul',{staticClass:\"nav flex-center\"},_vm._l((_vm.navList),function(item){return _c('li',{key:item.index,class:_vm.active===item.index?'active':'',on:{\"click\":function($event){return _vm.tabItem(item.index)}}},[_vm._v(_vm._s(item.name))])}),0),_c('div',{staticClass:\"content\"},[(_vm.active===1)?_c('div',{staticClass:\"song-box\"},[(_vm.songs.length>0)?_c('song-sheet-list',{attrs:{\"songs\":_vm.songs,\"is-person\":_vm.isPerson}}):_vm._e()],1):_vm._e(),(_vm.active===2)?_c('div',{staticClass:\"album\"},[(_vm.albums.length>0)?_c('album-list',{attrs:{\"albums\":_vm.albums}}):_c('pretty-empty',{attrs:{\"emptyText\":_vm.emptyText}})],1):_vm._e(),(_vm.active===3)?_c('div',{staticClass:\"mv-box\"},[(_vm.mvs.length>0)?_c('mv-list',{attrs:{\"mvs\":_vm.mvs}}):_c('pretty-empty',{attrs:{\"emptyText\":_vm.emptyText}})],1):_vm._e(),(_vm.active===4)?_c('div',{staticClass:\"info-box\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.detail.name)+\"简介\")]),(Object.keys(_vm.singerDesc).length!==0)?_c('div'):_vm._e(),_c('div',{staticClass:\"profile\",domProps:{\"innerHTML\":_vm._s(_vm.singerDesc.briefDesc)}}),_c('div',{staticClass:\"introduction\"},_vm._l((_vm.singerDesc.introduction),function(item){return _c('div',{key:item.ti,staticClass:\"item\"},[_c('h3',{staticClass:\"sub-title\"},[_vm._v(_vm._s(item.ti))]),_c('p',{domProps:{\"innerHTML\":_vm._s(item.txt)}})])}),0),_c('pretty-empty',{attrs:{\"emptyText\":_vm.emptyText}})],1):(_vm.active===5)?_c('div',{staticClass:\"simi-box\"},[(_vm.singers.length>0)?_c('singer-list',{attrs:{\"singers\":_vm.singers}}):_c('pretty-empty',{attrs:{\"emptyText\":_vm.emptyText}})],1):_vm._e()])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 歌手详情页面 -->\n  <div class=\"singer-detail\">\n    <div class=\"singer-info\">\n      <div class=\"top\">\n        <!-- 半黑透明遮罩 -->\n        <div class=\"top-mask\">\n          <div class=\"singer-box flex-column flex-center\">\n            <div class=\"avatar transition\">\n              <img :src=\"detail.img1v1Url+'?param=200y200'\" alt=\"\">\n              <div class=\"level flex-center\" v-show=\"level\">\n                <i :class=\"['iconfont','icon-level',level]\"></i>\n              </div>\n            </div>\n            <p class=\"nickname\">\n              {{detail.name}}\n              <!-- 性别 -->\n              <i class=\"iconfont\" :class=\"gender\"></i>\n            </p>\n            <div class=\"follow flex-center\" v-if=\"!followed\"\n              @click=\"followSinger\">\n              <i class=\"iconfont niceIcon_add\"></i>\n              关注TA\n            </div>\n            <div class=\"follow flex-center\" v-else-if=\"followed\"\n              @click=\"followSinger\">\n              已关注\n            </div>\n            <div class=\"empty\" v-else></div>\n            <div class=\"desc ellipsis-two\" v-html=\"detail.briefDesc\"></div>\n            <ul class=\"info flex-center\">\n              <li>\n                <p class=\"num\">{{detail.musicSize}}</p>\n                <p class=\"text\">单曲数</p>\n              </li>\n              <li>\n                <p class=\"num\">{{detail.albumSize}}</p>\n                <p class=\"text\">专辑数</p>\n              </li>\n              <li>\n                <p class=\"num\">{{detail.mvSize}}</p>\n                <p class=\"text\">MV数</p>\n              </li>\n              <li v-show=\"detail.followeds\">\n                <p class=\"num\">{{detail.followeds | transNum(1)}}</p>\n                <p class=\"text\">粉丝</p>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <!-- 两侧边的白色三角 -->\n        <div class=\"bottom-trangle\"></div>\n      </div>\n      <div class=\"bottom container\">\n        <ul class=\"nav flex-center\">\n          <li :class=\"active===item.index?'active':''\" v-for=\"item in navList\"\n            :key=\"item.index\" @click=\"tabItem(item.index)\">{{item.name}}</li>\n        </ul>\n        <div class=\"content\">\n          <!-- 作品 -->\n          <div class=\"song-box\" v-if=\"active===1\">\n            <song-sheet-list :songs=\"songs\" :is-person=\"isPerson\"\n              v-if=\"songs.length>0\"></song-sheet-list>\n          </div>\n          <!-- 专辑 -->\n          <div class=\"album\" v-if=\"active===2\">\n            <album-list :albums=\"albums\" v-if=\"albums.length>0\"></album-list>\n            <pretty-empty v-else :emptyText=\"emptyText\"></pretty-empty>\n          </div>\n          <!-- mv -->\n          <div class=\"mv-box\" v-if=\"active===3\">\n            <mv-list :mvs=\"mvs\" v-if=\"mvs.length>0\"></mv-list>\n            <pretty-empty v-else :emptyText=\"emptyText\"></pretty-empty>\n          </div>\n          <!-- 歌手详情 -->\n          <div class=\"info-box\" v-if=\"active===4\">\n            <h2 class=\"title\">{{detail.name}}简介</h2>\n            <div v-if=\"Object.keys(singerDesc).length!==0\"></div>\n            <div class=\"profile\" v-html=\"singerDesc.briefDesc\"></div>\n            <div class=\"introduction\">\n              <div class=\"item\" v-for=\"item in singerDesc.introduction\"\n                :key=\"item.ti\">\n                <h3 class=\"sub-title\">{{item.ti}}</h3>\n                <p v-html=\"item.txt\"></p>\n              </div>\n            </div>\n            <pretty-empty :emptyText=\"emptyText\"></pretty-empty>\n          </div>\n          <!-- 相似歌手 -->\n          <div class=\"simi-box\" v-else-if=\"active===5\">\n            <singer-list v-if=\"singers.length>0\" :singers=\"singers\">\n            </singer-list>\n            <pretty-empty v-else :emptyText=\"emptyText\"></pretty-empty>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport songSheetList from '../../components/content/SheetSongList'\nimport albumList from '../../components/content/album-list/index'\nimport mvList from '../../components/content/mv-list'\nimport singerList from '../../components/content/singer-list/index'\nimport prettyEmpty from '../../components/common/PrettyEmpty'\nimport { createSong } from '../../utils/untils'\nexport default {\n  name: 'singerDetail',\n  data() {\n    return {\n      // 歌手基本信息\n      singerDetail: {},\n      // 歌手用户信息\n      userDetail: {\n        level: '',\n        followeds: '',\n        gender: ''\n      },\n      // 歌手简介\n      singerDesc: {},\n      // 热门单曲\n      songs: [],\n      // 专辑数组\n      albums: [],\n      // 相似歌手\n      singers: [],\n      // mv\n      mvs: [],\n      // 歌手id\n      singerId: '',\n      // 模块\n      navList: [\n        { name: '作品', index: 1 },\n        { name: '专辑', index: 2 },\n        { name: 'MV', index: 3 },\n        { name: '歌手详情', index: 4 },\n        { name: '相似歌手', index: 5 }\n      ],\n      // 当前显示的模块\n      active: 1,\n      // 分页显示条数\n      limit: 20,\n      // 分页偏移量\n      offset: 0,\n      // 传给song-sheet-list组件，不显示收藏按钮\n      isPerson: false,\n      // 是否已关注该用户\n      followed: false,\n      // 没有数据时显示的文本\n      emptyText: '哎呀，这里什么都没有~'\n    }\n  },\n  components: {\n    songSheetList,\n    albumList,\n    mvList,\n    singerList,\n    prettyEmpty\n  },\n  computed: {\n    // 合并歌手详情对象\n    detail() {\n      return { ...this.singerDetail, ...this.userDetail }\n    },\n    // 设置歌手性别\n    gender() {\n      if (this.detail.gender > 0) {\n        // 1是男，2是女，其它是未知\n        return this.detail.gender === 1\n          ? 'niceCRM_icon_nanxing man'\n          : 'niceCRM_icon_nvxing woman'\n      } else {\n        return ''\n      }\n    },\n    // 设置歌手等级,最低等级为1级\n    level() {\n      if (this.detail.level > 0) {\n        return 'nicelevel-' + this.detail.level\n      } else {\n        return ''\n      }\n    },\n    // 我的ID\n    myId() {\n      if (sessionStorage.getItem('myInfo') || this.getUserInfo.userId) {\n        return (\n          JSON.parse(sessionStorage.getItem('myInfo')).userId + '' ||\n          this.getUserInfo.userId\n        )\n      }\n      return ''\n    }\n  },\n  created() {\n    if (this.$route.query.id) {\n      this.singerId = this.$route.query.id\n      this._initailize(this.$route.query.id)\n    }\n  },\n  methods: {\n    // 点击标签切换模块\n    tabItem(index) {\n      this.active = index\n    },\n    // 获取歌手部分信息和热门歌曲\n    async getArtists(id) {\n      const res = await this.$api.getArtists(id)\n      if (res.code === 200) {\n        this.singerDetail = res.artist\n        // 要传入的ID不是路由url的ID，而是下面这个ID\n        // 有些歌手是没有创建网易云用户的，所以是没有accountId，获取不到用户信息\n        if (res.artist.accountId) this.getUserDetail(res.artist.accountId)\n        this.followed = res.artist.followed\n      }\n      // 歌手单曲中的热门歌曲\n      this.songs = this._normalizeSongs(res.hotSongs)\n    },\n    // 获取(歌手)用户信息\n    async getUserDetail(id) {\n      const res = await this.$api.getUserDetail(id)\n      if (res.code === 200) {\n        this.userDetail.level = res.level\n        this.userDetail.followeds = res.profile.followeds\n        this.userDetail.gender = res.profile.gender\n      }\n    },\n    // 获取歌手专辑\n    async getArtistAlbum(id) {\n      const params = {\n        id,\n        limit: this.limit,\n        offset: this.offset\n      }\n      const res = await this.$api.getArtistAlbum(params)\n      if (res.code === 200) {\n        this.albums = res.hotAlbums\n      }\n    },\n    // 获取歌手MV\n    async getArtistMv(id) {\n      const res = await this.$api.getArtistMv(id)\n      if (res.code === 200) {\n        this.mvs = this._normalizeVideos(res.mvs)\n      }\n    },\n    // 获取歌手简介\n    async getArtistDesc(id) {\n      const res = await this.$api.getArtistDesc(id)\n      if (res.code === 200) {\n        if (res.introduction.length > 0) {\n          res.introduction.forEach(item => {\n            // ()标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。\n            // | 是 \"或\"，g是全局匹配\n            // 替换掉换行符为br标签\n            // replace方法返回一个新字符串\n            item.txt = item.txt.replace(/(\\r\\n|\\n|\\r)/g, '</ br>')\n          })\n          this.singerDesc = res\n        }\n      }\n    },\n    // 获取相似歌手\n    async getArtistSimi(id) {\n      const res = await this.$api.getArtistSimi(id)\n      if (res.code === 200) {\n        this.singers = res.artists\n      }\n    },\n    // 处理歌曲\n    _normalizeSongs(list) {\n      const arr = []\n      list.forEach(item => {\n        arr.push(createSong(item))\n      })\n      return arr\n    },\n    // 处理视频\n    _normalizeVideos(list) {\n      const arr = []\n      list.forEach(item => {\n        if (item.id) {\n          arr.push({\n            id: item.id,\n            nickName: item.artistName,\n            title: item.name,\n            playCount: item.playCount,\n            duration: item.duration,\n            picUrl: item.imgurl16v9\n          })\n        }\n      })\n      return arr\n    },\n    // 收藏/取消收藏用户\n    // t : 1为收藏,其他为取消收藏\n    async followSinger() {\n      // 判断有没有登录\n      if (sessionStorage.getItem('cookie') && sessionStorage.getItem('token')) {\n        if (this.followed) {\n          ELEMENT.MessageBox.confirm('确认取消收藏歌手', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'info'\n          }).then(async () => {\n            const res1 = await this.$api.followSinger(this.singerId, 0)\n            if (res1.code === 200) {\n              // 不必再发送请求刷新this.followed，手动修改即可\n              this.followed = false\n            }\n          })\n        } else {\n          const res1 = await this.$api.followSinger(this.singerId, 1)\n          if (res1.code === 200) {\n            // 不必再发送请求刷新this.followed，手动修改即可\n            this.followed = true\n          }\n        }\n      } else {\n        ELEMENT.Message('请先登录')\n        this.$router.push('/login')\n      }\n    },\n    // 初始化\n    _initailize(id) {\n      this.getArtists(id)\n      this.getArtistAlbum(id)\n      this.getArtistMv(id)\n      this.getArtistDesc(id)\n      this.getArtistSimi(id)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.singer-detail {\n  margin-top: -20px;\n  .singer-info {\n    .top {\n      position: relative;\n      width: 100%;\n      height: 580px;\n      background: url('../../assets/images/top-bg.jpg') no-repeat center / cover;\n      .top-mask {\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.6);\n        .singer-box {\n          position: relative;\n          height: 100%;\n          margin: 0 auto;\n          padding-top: 10px;\n          text-align: center;\n          z-index: 2;\n          .avatar {\n            position: relative;\n            width: 120px;\n            height: 120px;\n            border-radius: 50%;\n            transition: box-shadow 0.3s;\n            overflow: hidden;\n            .level {\n              position: absolute;\n              bottom: 0;\n              left: 0;\n              width: 100%;\n              height: 25px;\n              background-color: rgba(255, 255, 255, 0.8);\n              .icon-level {\n                margin-left: 8px;\n                font-size: 25px;\n                color: #fa2800;\n              }\n            }\n            img {\n              width: 100%;\n              height: 100%;\n              border-radius: 50%;\n              background: #fff;\n              border: 3px solid rgba(255, 255, 255, 1);\n            }\n            &:hover {\n              box-shadow: 0 5px 20px rgba(255, 255, 255, 0.8);\n            }\n          }\n          .nickname {\n            line-height: 24px;\n            margin-top: 20px;\n            font-size: 24px;\n            font-weight: 700;\n            color: #fff;\n            i {\n              font-size: 20px;\n              &.man {\n                color: #1f91f2;\n              }\n              &.woman {\n                color: #fc7265;\n              }\n            }\n          }\n          .follow {\n            width: 96px;\n            height: 36px;\n            padding: 0;\n            margin: 24px 0 30px;\n            border: 1px solid rgba(255, 255, 255, 0.6);\n            border-radius: 18px;\n            font-size: 12px;\n            color: #fff;\n            cursor: pointer;\n            transition: border 0.2s, background-color 0.2s;\n            &:hover {\n              border: 1px solid #fff;\n              background-color: rgba(255, 255, 255, 0.1);\n            }\n            i {\n              margin-right: 5px;\n            }\n          }\n          .desc {\n            width: 740px;\n            // 2行显示\n            height: 48px;\n            line-height: 24px;\n            margin: 0 auto 24px;\n            color: rgba(255, 255, 255, 0.6);\n            font-size: 14px;\n          }\n          .info {\n            width: 100%;\n            margin: 0 auto;\n            li {\n              margin: 0 50px;\n              text-align: center;\n              .num {\n                line-height: 24px;\n                margin-bottom: 8px;\n                font-size: 24px;\n                color: #fff;\n              }\n              .text {\n                line-height: 14px;\n                font-size: 14px;\n                color: rgba(255, 255, 255, 0.6);\n              }\n            }\n          }\n        }\n      }\n      .bottom-trangle {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 137px;\n        background: url('../../assets/images/arrow-lr.png') no-repeat center;\n      }\n    }\n    .bottom {\n      .nav {\n        margin: 30px 0;\n        li {\n          margin: 0 20px;\n          font-size: 14px;\n          font-weight: 700;\n          cursor: pointer;\n          &.active {\n            color: #fa2800;\n          }\n        }\n      }\n      .content {\n        background-color: #fff;\n        .info-box {\n          padding: 15px;\n          .title {\n            position: relative;\n            margin-bottom: 30px;\n            text-align: center;\n            &::after {\n              content: '';\n              position: absolute;\n              left: 50%;\n              margin-left: -20px;\n              bottom: -10px;\n              width: 40px;\n              height: 2px;\n              background-color: #fa2800;\n            }\n          }\n          .profile {\n            margin-bottom: 20px;\n            font-size: 14px;\n            line-height: 1.7;\n            text-align: center;\n          }\n          .introduction {\n            .item {\n              margin-bottom: 15px;\n              .sub-title {\n                margin-bottom: 10px;\n              }\n              p {\n                line-height: 1.7;\n              }\n            }\n          }\n        }\n        .simi-box {\n          padding: 15px 15px;\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=af39ee7c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=af39ee7c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af39ee7c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentBox.vue?vue&type=style&index=0&id=6443e7dc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentBox.vue?vue&type=style&index=0&id=6443e7dc&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video-detail container\"},[_c('div',{staticClass:\"left shadow\"},[_c('div',{staticClass:\"video-container\"},[_c('video',{attrs:{\"src\":_vm.videoUrl,\"controls\":\"\",\"controlslist\":\"nodownload\"}})]),_c('div',{staticClass:\"video-foot\"},[_c('h2',{staticClass:\"title flex-row ellipsis\"},[_vm._v(_vm._s(_vm.detail.title))]),_c('div',{staticClass:\"tag\"},_vm._l((_vm.detail.videoGroup),function(item){return _c('a',{key:item.id,on:{\"click\":function($event){return _vm.toVideo(item.id,item.name)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0),_c('p',{staticClass:\"flex-row\"},[_c('span',[_vm._v(\"发布：\"+_vm._s(_vm._f(\"formatDate\")(_vm.detail.publishTime,'YYYY-MM-DD')))]),(_vm.detail.playTime)?_c('span',[_vm._v(\"播放次数：\"+_vm._s(_vm._f(\"transNum\")(_vm.detail.playTime,1)))]):_vm._e()]),_c('div',{staticClass:\"follow flex-row\"},[_c('div',{staticClass:\"box\",class:_vm.videoDetailInfo.isLike?'active':'',on:{\"click\":_vm.likeResource}},[_c('i',{staticClass:\"iconfont nicexihuan3 icon-like\"}),_vm._v(\" \"+_vm._s(_vm.videoDetailInfo.likedCount)+\" \")]),_c('div',{staticClass:\"box\"},[_c('i',{staticClass:\"iconfont niceshoucang2 icon-collection\"}),_vm._v(\" \"+_vm._s(_vm.detail.subscribeCount)+\" \")]),_c('div',{staticClass:\"box\"},[_c('i',{staticClass:\"iconfont nicefenxiang2 icon-share\"}),_vm._v(\" \"+_vm._s(_vm.videoDetailInfo.shareCount)+\" \")])])]),_c('div',{staticClass:\"comment-wrap\"},[_c('div',{staticClass:\"title flex-row\"},[_c('i',{staticClass:\"iconfont nicepinglun\"}),_vm._v(\"Comments | \"),_c('span',[_vm._v(_vm._s(_vm.videoDetailInfo.commentCount)+\" 条评论\")])]),(_vm.currentCommentId==='')?_c('comment-box',{attrs:{\"clear-text\":_vm.clearText,\"current-comment-id\":_vm.currentCommentId,\"fontMaxLength\":1000},on:{\"commentsubmit\":_vm.commentSubmit,\"cancelcomment\":_vm.cancelComment}}):_vm._e(),(_vm.hotComments.length>0)?_c('div',{staticClass:\"hot-comment comment-list\"},[_vm._m(0),_vm._l((_vm.hotComments),function(item){return _c('div',{key:item.commentId},[_c('comment-line',{attrs:{\"comment\":item},on:{\"commentreply\":_vm.commentReply,\"commentlike\":_vm.commentLike,\"commentdelete\":_vm.commentDelete}}),(_vm.currentCommentId == item.commentId)?_c('comment-box',{attrs:{\"clear-text\":_vm.clearText,\"current-comment-id\":_vm.currentCommentId,\"fontMaxLength\":1000},on:{\"commentsubmit\":_vm.commentSubmit,\"cancelcomment\":_vm.cancelComment}}):_vm._e()],1)})],2):_vm._e(),_c('div',{staticClass:\"new-comment comment-list\"},[_vm._m(1),(_vm.comments.length>0)?_c('div',[_vm._l((_vm.comments),function(item){return _c('div',{key:item.commentId},[_c('comment-line',{attrs:{\"comment\":item},on:{\"commentreply\":_vm.commentReply,\"commentlike\":_vm.commentLike,\"commentdelete\":_vm.commentDelete}}),(_vm.currentCommentId == item.commentId)?_c('comment-box',{attrs:{\"clear-text\":_vm.clearText,\"current-comment-id\":_vm.currentCommentId,\"fontMaxLength\":1000},on:{\"commentsubmit\":_vm.commentSubmit,\"cancelcomment\":_vm.cancelComment}}):_vm._e()],1)}),_c('el-pagination',{attrs:{\"background\":\"\",\"hide-on-single-page\":\"\",\"current-page\":_vm.currentPage,\"page-sizes\":[15, 20, 30],\"page-size\":_vm.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.commentTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],2):_c('pretty-empty',{attrs:{\"empty-text\":\"等你来评论~\"}})],1)],1)]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"introduction module shadow\"},[_vm._m(2),_c('div',{staticClass:\"author\"},[_c('div',{staticClass:\"avatar\",on:{\"click\":function($event){return _vm.toUser(_vm.creator.userId)}}},[_c('img',{attrs:{\"src\":_vm.creator.avatarUrl,\"alt\":\"\"}})]),_c('p',{staticClass:\"name\",on:{\"click\":function($event){return _vm.toUser(_vm.creator.userId)}}},[_vm._v(_vm._s(_vm.creator.nickname)+\" \")])]),(_vm.detail.description)?_c('p',[_vm._v(_vm._s(_vm.detail.description)+\" \")]):_c('p',[_vm._v(\"视频暂无简介~\")])]),_c('div',{staticClass:\"related module shadow\"},[_vm._m(3),(_vm.relatedList.length>0)?_c('ul',{staticClass:\"mv-list flex-row\"},_vm._l((_vm.relatedList),function(item){return _c('li',{key:item.vid,class:{live:item.isLive}},[_c('div',{staticClass:\"cover\",on:{\"click\":function($event){return _vm.toDetailOrLive(item.vid,item.isLive)}}},[_c('el-image',{attrs:{\"src\":item.coverUrl}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\",staticStyle:{\"font-size\":\"18px\"}})])]),_c('div',{staticClass:\"top flex-between\"},[_c('span',{staticClass:\"count\"},[_c('i',{staticClass:\"arrow\"}),_vm._v(_vm._s(_vm._f(\"transNum\")(item.playTime,1))+\" \")]),_c('span',[_vm._v(_vm._s(_vm._f(\"formatTime\")(item.durationms)))])]),_vm._m(4,true)],1),_c('div',{staticClass:\"info\"},[_c('h2',{staticClass:\"title ellipsis\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" By\"),_vm._l((item.creator),function(author){return _c('span',{key:author.userId},[_c('small',[_vm._v(\" \"+_vm._s(author.userName)+\" \")])])})],2)])}),0):_c('pretty-empty',{attrs:{\"empty-text\":\"暂无相关推荐视频~\"}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"精彩评论\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"最新评论\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"视频简介\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"相关推荐\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"action\"},[_c('button',{staticClass:\"play flex-center\"},[_c('i',{staticClass:\"iconfont nicebofang1\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <!-- 视频详情页面 -->\n  <div class=\"video-detail container\">\n    <!-- 左侧 -->\n    <div class=\"left shadow\">\n      <!-- controls -->\n      <div class=\"video-container\">\n        <!-- controls 显示控件 -->\n        <!-- controlslist=\"nodownload\" 禁止下载 因为版权问题，不能下载 -->\n        <video :src=\"videoUrl\" controls controlslist=\"nodownload\"></video>\n      </div>\n      <div class=\"video-foot\">\n        <h2 class=\"title flex-row ellipsis\">{{detail.title}}</h2>\n        <div class=\"tag\">\n          <a v-for=\"item of detail.videoGroup\" :key=\"item.id\"\n            @click=\"toVideo(item.id,item.name)\">\n            {{item.name}}\n          </a>\n        </div>\n        <p class=\"flex-row\">\n          <span>发布：{{detail.publishTime | formatDate('YYYY-MM-DD')}}</span>\n          <span\n            v-if=\"detail.playTime\">播放次数：{{detail.playTime | transNum(1)}}</span>\n        </p>\n        <div class=\"follow flex-row\">\n          <div class=\"box\" :class=\"videoDetailInfo.isLike?'active':''\"\n            @click=\"likeResource\">\n            <i class=\"iconfont nicexihuan3 icon-like\"></i>\n            {{videoDetailInfo.likedCount}}\n          </div>\n          <div class=\"box\">\n            <i class=\"iconfont niceshoucang2 icon-collection\"></i>\n            {{ detail.subscribeCount }}\n          </div>\n          <!-- 分享功能没写 -->\n          <div class=\"box\">\n            <i class=\"iconfont nicefenxiang2 icon-share\"></i>\n            {{ videoDetailInfo.shareCount }}\n          </div>\n        </div>\n      </div>\n      <div class=\"comment-wrap\">\n        <div class=\"title flex-row\">\n          <i class=\"iconfont nicepinglun\"></i>Comments |\n          <span>{{videoDetailInfo.commentCount}} 条评论</span>\n        </div>\n        <comment-box v-if=\"currentCommentId===''\" :clear-text=\"clearText\"\n          :current-comment-id=\"currentCommentId\" :fontMaxLength=\"1000\"\n          @commentsubmit=\"commentSubmit\" @cancelcomment=\"cancelComment\">\n        </comment-box>\n        <!-- 精彩评论 -->\n        <div class=\"hot-comment comment-list\" v-if=\"hotComments.length>0\">\n          <div class=\"card-header flex-row\">\n            <span>精彩评论</span>\n          </div>\n          <div v-for=\"item of hotComments\" :key=\"item.commentId\">\n            <comment-line :comment=\"item\" @commentreply=\"commentReply\"\n              @commentlike=\"commentLike\" @commentdelete=\"commentDelete\">\n            </comment-line>\n            <comment-box v-if=\"currentCommentId == item.commentId\"\n              :clear-text=\"clearText\" :current-comment-id=\"currentCommentId\"\n              :fontMaxLength=\"1000\" @commentsubmit=\"commentSubmit\"\n              @cancelcomment=\"cancelComment\">\n            </comment-box>\n          </div>\n        </div>\n        <!-- 最新评论，没有则等你来评论~ -->\n        <div class=\"new-comment comment-list\">\n          <div class=\"card-header flex-row\">\n            <span>最新评论</span>\n          </div>\n          <div v-if=\"comments.length>0\">\n            <div v-for=\"item of comments\" :key=\"item.commentId\">\n              <comment-line :comment=\"item\" @commentreply=\"commentReply\"\n                @commentlike=\"commentLike\" @commentdelete=\"commentDelete\">\n              </comment-line>\n              <comment-box v-if=\"currentCommentId == item.commentId\"\n                :clear-text=\"clearText\" :current-comment-id=\"currentCommentId\"\n                :fontMaxLength=\"1000\" @commentsubmit=\"commentSubmit\"\n                @cancelcomment=\"cancelComment\">\n              </comment-box>\n            </div>\n            <!-- 评论分页器 -->\n            <el-pagination @size-change=\"handleSizeChange\" background\n              @current-change=\"handleCurrentChange\" hide-on-single-page\n              :current-page.sync=\"currentPage\" :page-sizes=\"[15, 20, 30]\"\n              :page-size=\"limit\"\n              layout=\"total, sizes, prev, pager, next, jumper\"\n              :total=\"commentTotal\">\n            </el-pagination>\n          </div>\n          <pretty-empty v-else empty-text=\"等你来评论~\"></pretty-empty>\n        </div>\n      </div>\n    </div>\n    <!-- 右侧 -->\n    <div class=\"right\">\n      <!-- 视频简介 -->\n      <div class=\"introduction module shadow\">\n        <div class=\"card-header flex-row\">\n          <span>视频简介</span>\n        </div>\n        <div class=\"author\">\n          <div class=\"avatar\" @click=\"toUser(creator.userId)\">\n            <img :src=\"creator.avatarUrl\" alt=\"\">\n          </div>\n          <p class=\"name\" @click=\"toUser(creator.userId)\">{{creator.nickname}}\n          </p>\n        </div>\n        <p v-if=\"detail.description\">{{detail.description}}\n        </p>\n        <p v-else>视频暂无简介~</p>\n      </div>\n      <!-- 相关推荐 -->\n      <div class=\"related module shadow\">\n        <div class=\"card-header flex-row\">\n          <span>相关推荐</span>\n        </div>\n        <!-- 视频列表 -->\n        <ul class=\"mv-list flex-row\" v-if=\"relatedList.length>0\">\n          <!-- isLive：是否直播 -->\n          <li :class=\"{live:item.isLive}\" v-for=\"item in relatedList\"\n            :key=\"item.vid\">\n            <div class=\"cover\" @click=\"toDetailOrLive(item.vid,item.isLive)\">\n              <!-- 图片 -->\n              <el-image :src=\"item.coverUrl\">\n                <!-- el-image 加载失败时内容 -->\n                <div slot=\"error\" class=\"image-slot\">\n                  <i class=\"el-icon-picture-outline\"\n                    style=\"font-size:18px;\"></i>\n                </div>\n              </el-image>\n              <!-- 播放数 播放时长 -->\n              <div class=\"top flex-between\">\n                <span class=\"count\">\n                  <i class=\"arrow\"></i>{{item.playTime | transNum(1)}}\n                </span>\n                <span>{{item.durationms | formatTime}}</span>\n              </div>\n              <!-- 播放按钮 -->\n              <div class=\"action\">\n                <button class=\"play flex-center\">\n                  <i class=\"iconfont nicebofang1\"></i>\n                </button>\n              </div>\n            </div>\n            <div class=\"info\">\n              <h2 class=\"title ellipsis\">{{item.title}}</h2>\n              By<span v-for=\"author of item.creator\" :key=\"author.userId\">\n                <small>&emsp;{{author.userName}}&emsp;</small>\n              </span>\n            </div>\n          </li>\n        </ul>\n        <pretty-empty v-else empty-text=\"暂无相关推荐视频~\"></pretty-empty>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport commentBox from '../../components/content/CommentBox'\nimport commentLine from '../../components/content/CommentLine'\nimport prettyEmpty from '../../components/common/PrettyEmpty'\nexport default {\n  name: 'videoDetail',\n  data() {\n    return {\n      // 当前页码\n      currentPage: 1,\n      // 请求参数对象\n      // 请求的评论数量\n      limit: 15,\n      // 偏移量\n      offset: 0,\n      // 评论总数\n      commentTotal: 0,\n      // 视频详情\n      detail: {},\n      // 作者\n      creator: {},\n      // 相关视频\n      relatedList: [],\n      // 热评\n      hotComments: [],\n      // 评论\n      comments: [],\n      // 想要回复的评论id\n      // 为''时即发表评论，不对评论回复\n      currentCommentId: '',\n      // 视频播放地址\n      videoUrl: '',\n      // 视频id\n      videoId: '',\n      // 视频的点赞、转发、评论数据对象\n      videoDetailInfo: {},\n      // 清空文本框\n      clearText: false\n    }\n  },\n  components: {\n    commentBox,\n    commentLine,\n    prettyEmpty\n  },\n  created() {\n    this.videoId = this.$route.query.id\n    this._initailze()\n  },\n  methods: {\n    // 发送评论\n    async commentSubmit(content) {\n      if (content.trim() === '') {\n        ELEMENT.Message('请输入内容')\n        return\n      } else {\n        let timestamp = new Date().getTime()\n        const params = {\n          // 0歌曲 1mv 2歌单 3专辑 4电台 5视频 6动态\n          type: 5,\n          id: this.videoId,\n          content,\n          timestamp\n        }\n        if (this.currentCommentId === '') {\n          // 发布评论\n          params.t = 1\n        } else {\n          // 回复评论\n          params.t = 2\n          params.commentId = this.currentCommentId\n        }\n        const res = await this.$api.commentSubmit(params)\n        if (res.code === 200) {\n          ELEMENT.Message.success('提交成功')\n          this.currentCommentId = ''\n          this.clearText = true\n          this.$nextTick(() => {\n            this.clearText = false\n          })\n          this.getVideoDetailInfo()\n          this.getVideoComments()\n        }\n      }\n    },\n    // 点击 取消回复 按钮\n    cancelComment() {\n      this.currentCommentId = ''\n    },\n    // 点击评论的回复按钮\n    async commentReply(id) {\n      this.currentCommentId = id\n    },\n    // 点赞/取消点赞评论\n    // liked是boolean值\n    async commentLike(cid, liked) {\n      let timestamp = new Date().getTime()\n      const params = {\n        id: this.videoId,\n        cid,\n        // 0歌曲 1mv 2歌单 3专辑 4电台 5视频 6动态\n        type: 5,\n        timestamp\n      }\n      if (liked) {\n        // 0取消点赞\n        params.t = 0\n      } else {\n        // 1点赞\n        params.t = 1\n      }\n      const res = await this.$api.commentLike(params)\n      if (res.code === 200) {\n        this.getVideoComments(this.videoId)\n      }\n    },\n    // 删除评论\n    async commentDelete(id, content) {\n      let timestamp = new Date().getTime()\n      const params = {\n        // 0删除 1发布 2回复\n        t: 0,\n        // 0歌曲 1mv 2歌单 3专辑 4电台 5视频 6动态\n        type: 5,\n        id: this.videoId,\n        commentId: id,\n        timestamp\n      }\n      const res = await this.$api.commentDelete(params)\n      if (res.code === 200) {\n        ELEMENT.Message.success('删除成功')\n        this.getVideoDetailInfo()\n        this.getVideoComments()\n      }\n    },\n    // 资源点赞/取消点赞\n    async likeResource() {\n      // 1mv 4电台 5视频 6动态\n      let type = 5\n      // 1点赞 其余为取消点赞\n      let t = 1\n      if (this.videoDetailInfo.isLike) {\n        t = 2\n      }\n      let timestamp = new Date().getTime()\n      const params = {\n        t,\n        type,\n        id: this.videoId,\n        timestamp\n      }\n      const res = await this.$api.likeResource(params)\n      if (res.code === 200) {\n        this.getVideoDetailInfo()\n      }\n    },\n    // 获取视频播放地址\n    async getVideoUrl() {\n      try {\n        const res = await this.$api.getVideoUrl(this.videoId)\n        if (res.code === 200) {\n          this.videoUrl = res.urls[0].url\n        }\n      } catch (e) {\n        ELEMENT.Message('视频无法加载，请重新刷新一下~')\n      }\n    },\n    // 获取视频详情\n    async getVideoDetail() {\n      const res = await this.$api.getVideoDetail(this.videoId)\n      if (res.code === 200) {\n        res.data.videoGroup.forEach(item => {\n          item.name = item.name.replace(/#/g, '')\n        })\n        this.detail = res.data\n        this.creator = res.data.creator\n      }\n    },\n    // 获取视频的点赞、转发、评论数\n    async getVideoDetailInfo() {\n      let timestamp = new Date().getTime()\n      const params = {\n        vid: this.videoId,\n        timestamp\n      }\n      const res = await this.$api.getVideoDetailInfo(params)\n      if (res.code === 200) {\n        const detail = {\n          isLike: res.liked,\n          likedCount: res.likedCount,\n          shareCount: res.shareCount,\n          commentCount: res.commentCount\n        }\n        this.videoDetailInfo = detail\n      }\n    },\n    // 获取视频评论\n    async getVideoComments() {\n      let timestamp = new Date().getTime()\n      const params = {\n        id: this.videoId,\n        limit: this.limit,\n        offset: this.offset,\n        timestamp\n      }\n      const res = await this.$api.getVideoComments(params)\n      if (res.code === 200) {\n        this.commentTotal = res.total\n        this.hotComments = res.hotComments || []\n        this.comments = res.comments || []\n      }\n    },\n    // 获取相关视频\n    async getVideoRelated() {\n      const res = await this.$api.getVideoRelated(this.videoId)\n      if (res.code === 200) {\n        this.relatedList = res.data\n      }\n    },\n    // 跳转到视频详情页面或直播页面\n    toDetailOrLive(id, isLive) {\n      if (isLive) {\n        // 新窗口打开\n        window.open(`https://iplay.163.com/live?id=${id}`, '_blank')\n      } else {\n        this.$router.push({\n          path: '/videodetail',\n          query: { id }\n        })\n      }\n    },\n    // 跳转到用户页面\n    toUser(id) {\n      this.$router.push({\n        path: '/personal',\n        query: { id }\n      })\n    },\n    // 点击标签跳转到视频列表页面\n    toVideo(tagId, tagName) {\n      this.$router.push({\n        name: 'video',\n        params: {\n          id: tagId,\n          name: tagName\n        }\n      })\n    },\n    // 改变每页显示的评论个数\n    handleSizeChange(val) {\n      this.limit = val\n      this.offset = val * (this.currentPage - 1)\n      this.getVideoComments()\n    },\n    // 改变评论页码\n    handleCurrentChange(val) {\n      this.currentPage = val\n      this.offset = (val - 1) * this.limit\n      this.getVideoComments()\n    },\n    // 初始化\n    _initailze() {\n      this.getVideoUrl()\n      this.getVideoDetail()\n      this.getVideoDetailInfo()\n      this.getVideoComments()\n      this.getVideoRelated()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.card-header {\n  height: 20px;\n  padding-left: 14px;\n  margin-bottom: 15px;\n  border-left: 3px solid #fa2800;\n  font-weight: 700;\n}\n.video-detail {\n  display: flex;\n  .left {\n    flex: 1;\n    padding: 15px;\n    margin-right: 20px;\n    border-radius: 8px;\n    .video-container {\n      // 视频播放器占位\n      position: relative;\n      width: 100%;\n      padding-top: 56.25%;\n      video {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        border-radius: 3px;\n        background-color: #333;\n      }\n    }\n    .video-foot {\n      margin-top: 8px;\n      .tag {\n        margin: 10px 0 8px;\n        cursor: pointer;\n        a {\n          display: inline-block;\n          padding: 5px 15px;\n          margin-right: 15px;\n          border-radius: 15px;\n          color: #fff;\n          font-weight: normal;\n          background-color: #fa2800;\n        }\n      }\n      p {\n        span {\n          margin-right: 30px;\n          font-size: 12px;\n          color: #999;\n        }\n      }\n      .follow {\n        margin-top: 10px;\n        .box {\n          display: flex;\n          align-items: center;\n          padding: 0 10px;\n          border-radius: 15px;\n          margin-right: 15px;\n          text-align: center;\n          background-color: #f2f2f2;\n          color: #161e27;\n          cursor: pointer;\n          i {\n            font-size: 26px;\n          }\n          &.active {\n            color: #fff;\n            background-color: #fa2800;\n          }\n        }\n      }\n    }\n    .comment-wrap {\n      margin-top: 25px;\n      .title {\n        width: 100%;\n        height: 50px;\n        border-bottom: 1px solid #f1f1f1;\n        i {\n          margin-right: 10px;\n          font-size: 18px;\n          color: #666;\n        }\n        span {\n          margin-left: 5px;\n        }\n      }\n      .comment-list {\n        width: 100%;\n        margin-top: 20px;\n        .el-pagination {\n          margin-top: 20px;\n        }\n      }\n    }\n  }\n  .right {\n    flex-shrink: 0;\n    width: 350px;\n    .module {\n      width: 100%;\n      padding: 15px;\n      margin-bottom: 20px;\n      border-radius: 8px;\n    }\n    .introduction {\n      .author {\n        display: flex;\n        align-items: center;\n        margin: 5px 0 15px;\n        .avatar {\n          width: 40px;\n          height: 40px;\n          margin-right: 15px;\n          border-radius: 50%;\n          cursor: pointer;\n          img {\n            width: 100%;\n            height: 100%;\n            border-radius: 50%;\n          }\n        }\n        .name {\n          flex: 1;\n          cursor: pointer;\n          transition: color 0.2s;\n          &:hover {\n            color: #fa2800;\n          }\n        }\n      }\n    }\n    .related {\n      padding-bottom: 0;\n      .mv-list {\n        flex-wrap: wrap;\n        margin: 0 -15px;\n        padding: 15px 0;\n        li {\n          flex: 0 0 100%;\n          max-width: 100%;\n          padding: 0 15px 20px;\n          .cover {\n            // 图片未加载完成占位\n            position: relative;\n            padding-top: 56%;\n            border-radius: 5px;\n            cursor: pointer;\n            .el-image {\n              position: absolute;\n              top: 0;\n              left: 0;\n              z-index: 1;\n              width: 100%;\n              height: 100%;\n              border-radius: 5px;\n              overflow: hidden;\n              ::v-deep img {\n                transition: transform 0.3s;\n              }\n            }\n            .top {\n              position: absolute;\n              top: 0;\n              left: 0;\n              z-index: 2;\n              width: 100%;\n              padding: 5px 10px;\n              border-top-left-radius: 5px;\n              border-top-right-radius: 5px;\n              color: #f3f3f3;\n              font-weight: 500;\n              background-image: linear-gradient(\n                to bottom,\n                rgba(0, 0, 0, 0.7),\n                transparent\n              );\n              .count {\n                i {\n                  display: inline-block;\n                  width: 0;\n                  height: 0;\n                  border-style: solid;\n                  border-width: 5px 0 5px 6px;\n                  border-color: transparent transparent transparent #fff;\n                  margin-right: 5px;\n                }\n              }\n            }\n            .action {\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              z-index: 2;\n              transform: translate(-50%, -50%);\n              opacity: 0;\n              transition: opacity 0.3s;\n              .play {\n                width: 32px;\n                height: 32px;\n                padding: 0;\n                border: 0;\n                border-radius: 50%;\n                color: #fff;\n                font-size: 12px;\n                background-color: #fa2800;\n                cursor: pointer;\n                i {\n                  position: relative;\n                  left: 1px;\n                }\n              }\n            }\n            &:hover {\n              .el-image {\n                ::v-deep img {\n                  transform: scale(1.1);\n                }\n              }\n              .action {\n                opacity: 1;\n              }\n            }\n          }\n          .info {\n            margin-top: 12px;\n            color: #a5a5c1;\n            .title {\n              margin-bottom: 5px;\n              line-height: 1.3;\n              font-size: 15px;\n              font-weight: 500;\n              color: #4a4a4a;\n            }\n            span {\n              font-size: 12px;\n              color: #a5a5c1;\n            }\n          }\n          &.live {\n            .cover {\n              .top {\n                background-image: linear-gradient(\n                  to bottom,\n                  rgba(250, 40, 0, 0.75),\n                  transparent\n                );\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoDetail.vue?vue&type=template&id=7401c068&scoped=true&\"\nimport script from \"./VideoDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoDetail.vue?vue&type=style&index=0&id=7401c068&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7401c068\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-line\"},[_c('div',{staticClass:\"avatar\",on:{\"click\":function($event){return _vm.toUser(_vm.comment.user.userId)}}},[_c('img',{attrs:{\"src\":_vm.comment.user.avatarUrl,\"alt\":\"\",\"title\":_vm.comment.user.nickname}})]),_c('div',{staticClass:\"info\"},[_c('h2',{staticClass:\"flex-between\"},[_c('span',{on:{\"click\":function($event){return _vm.toUser(_vm.comment.user.userId)}}},[_vm._v(_vm._s(_vm.comment.user.nickname)+\" \"),_c('small',[_vm._v(\" · \"+_vm._s(_vm._f(\"formatTimeBefore\")(_vm.comment.time)))])]),_c('div',{staticClass:\"tool flex-row\"},[_c('i',{staticClass:\"iconfont nicezan1 icon-zan\",class:{active:_vm.comment.liked},on:{\"click\":function($event){return _vm.commentLike(_vm.comment.commentId,_vm.comment.liked)}}}),_c('span',[_vm._v(\"(\"+_vm._s(_vm.comment.likedCount)+\")\")]),(_vm.comment.user.userId != _vm.myId)?_c('i',{staticClass:\"iconfont nicevoice icon-comment\",attrs:{\"title\":\"回复\"},on:{\"click\":function($event){return _vm.commentReply(_vm.comment.commentId)}}}):_c('i',{staticClass:\"iconfont nicelajitong\",attrs:{\"title\":\"删除\"},on:{\"click\":function($event){return _vm.commentDelete(_vm.comment.commentId,_vm.comment.content)}}})])]),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.comment.content)+\" \"),_vm._l((_vm.comment.beReplied),function(subItem){return _c('div',{key:subItem.beRepliedCommentId,staticClass:\"reply\"},[_c('span',[_c('small',[_vm._v(\"@\"+_vm._s(subItem.user.nickname)+\"：\")]),_vm._v(_vm._s(subItem.content))])])})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 评论列表组件 -->\n  <div class=\"comment-line\">\n    <div class=\"avatar\" @click=\"toUser(comment.user.userId)\">\n      <img :src=\"comment.user.avatarUrl\" alt=\"\" :title=\"comment.user.nickname\">\n    </div>\n    <div class=\"info\">\n      <h2 class=\"flex-between\">\n        <span @click=\"toUser(comment.user.userId)\">{{comment.user.nickname}}\n          <small> · {{comment.time | formatTimeBefore}}</small>\n        </span>\n        <div class=\"tool flex-row\">\n          <i class=\"iconfont nicezan1 icon-zan\" :class=\"{active:comment.liked}\"\n            @click=\"commentLike(comment.commentId,comment.liked)\">\n          </i>\n          <span>({{comment.likedCount}})</span>\n          <i class=\"iconfont nicevoice icon-comment\" title=\"回复\"\n            v-if=\"comment.user.userId != myId\"\n            @click=\"commentReply(comment.commentId)\">\n          </i>\n          <i class=\"iconfont nicelajitong\" title=\"删除\" v-else\n            @click=\"commentDelete(comment.commentId,comment.content)\"></i>\n        </div>\n      </h2>\n      <div class=\"content\">{{comment.content}}\n        <div class=\"reply\" v-for=\"subItem of comment.beReplied\"\n          :key=\"subItem.beRepliedCommentId\">\n          <!-- 被回复的评论 -->\n          <span><small>@{{subItem.user.nickname}}：</small>{{subItem.content}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    // 单条评论数据对象\n    comment: {\n      type: Object\n    }\n  },\n  computed: {\n    // 我的ID\n    myId() {\n      if (\n        JSON.parse(sessionStorage.getItem('myInfo')) ||\n        this.$store.getters.getUserInfo.userId\n      ) {\n        return (\n          JSON.parse(sessionStorage.getItem('myInfo')).userId ||\n          this.$store.getters.getUserInfo.userId\n        )\n      }\n      return ''\n    }\n  },\n  methods: {\n    // 点击评论的回复按钮\n    commentReply(id) {\n      this.$emit('commentreply', id)\n    },\n    // 点赞/取消点赞评论\n    // liked是boolean值\n    commentLike(id, liked) {\n      this.$emit('commentlike', id, liked)\n    },\n    // 删除评论\n    commentDelete(id, content) {\n      this.$emit('commentdelete', id, content)\n    },\n    // 跳转到用户页面\n    toUser(id) {\n      this.$router.push({\n        path: '/personal',\n        query: { id }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-line {\n  display: flex;\n  width: 100%;\n  padding: 10px 0;\n  .avatar {\n    flex-shrink: 0;\n    width: 45px;\n    height: 45px;\n    margin-right: 12px;\n    border-radius: 50%;\n    cursor: pointer;\n    img {\n      width: 100%;\n      border-radius: 50%;\n    }\n  }\n  .info {\n    flex: 1;\n    h2 {\n      font-size: 15px;\n      margin-right: 5px;\n      margin-bottom: 10px;\n      span {\n        cursor: pointer;\n        small {\n          font-size: 12px;\n          font-weight: 200;\n          color: #a5a5c1;\n          cursor: default;\n        }\n      }\n      .tool {\n        i {\n          font-size: 24px;\n          font-weight: 100;\n          cursor: pointer;\n          transition: color 0.1s;\n          &:hover {\n            color: #fa2800;\n          }\n        }\n        .icon-zan.active {\n          color: #fa2800;\n        }\n        .nicelajitong {\n          position: relative;\n          top: 1px;\n          font-size: 19px;\n        }\n        span {\n          position: relative;\n          margin: 2px 20px 0 0;\n          font-size: 12px;\n          font-weight: 200;\n          color: #666;\n          &::after {\n            content: '';\n            position: absolute;\n            top: 2px;\n            right: -12px;\n            width: 1px;\n            height: 13px;\n            background-color: #93939e;\n          }\n        }\n      }\n    }\n    .content {\n      width: 100%;\n      padding: 8px 10px;\n      margin-top: 5px;\n      line-height: 1.6;\n      border-radius: 3px;\n      color: #4a4a4a;\n      background-color: #f5f5f5;\n      .reply {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 8px 10px;\n        margin-top: 10px;\n        border-radius: 3px;\n        color: #666;\n        background-color: #fff;\n        span {\n          small {\n            color: #fa2800;\n          }\n        }\n        i {\n          font-size: 16px;\n          cursor: pointer;\n          transition: color 0.1s;\n          &:hover {\n            color: #fa2800;\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentLine.vue?vue&type=template&id=4f8b491d&scoped=true&\"\nimport script from \"./CommentLine.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentLine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentLine.vue?vue&type=style&index=0&id=4f8b491d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f8b491d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"album-detail container\"},[_c('div',{staticClass:\"left shadow\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.detail.picUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title flex-row\"},[_c('p',[_vm._v(_vm._s(_vm.detail.name))])]),_c('div',{staticClass:\"user flex-row\"},[_c('div',{staticClass:\"avatar\",on:{\"click\":function($event){return _vm.toSingerDetail(_vm.creator.id)}}},[_c('img',{attrs:{\"src\":_vm.creator.picUrl,\"alt\":\"\"}})]),_c('span',{staticClass:\"nickname\",on:{\"click\":function($event){return _vm.toSingerDetail(_vm.creator.id)}}},[_vm._v(\" \"+_vm._s(_vm.creator.name))]),_c('span',{staticClass:\"createTime\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(_vm.detail.publishTime,'YYYY-MM-DD'))+\" 创建 \")])]),_c('div',{staticClass:\"flex-row\"},[_vm._v(\" 发行公司：\"+_vm._s(_vm.detail.company)+\" \")]),_c('div',{staticClass:\"desc\"},[_c('p',{staticClass:\"ellipsis-two\",domProps:{\"innerHTML\":_vm._s(_vm.detail.description)}}),(_vm.txtLength(_vm.detail.description)>50)?_c('span',{staticClass:\"flex-row\",on:{\"click\":function($event){return _vm.openDesc(_vm.detail.description,_vm.detail.name)}}},[_vm._v(\"全部\"),_c('i',{staticClass:\"iconfont niceiconfontyoujiantou-copy-copy-copy-copy\"})]):_vm._e()])])]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.screenLoading),expression:\"screenLoading\"}],staticClass:\"content\"},[_c('sheet-song-list',{attrs:{\"songs\":_vm.songs,\"is-person\":false}})],1),_c('div',{staticClass:\"comment\"},[_vm._m(0),(_vm.comments.length>0)?_c('ul',_vm._l((_vm.comments),function(item){return _c('li',{key:item.commentId,staticClass:\"item\"},[_c('div',{staticClass:\"avatar\",on:{\"click\":function($event){return _vm.toUser(item.user.userId)}}},[_c('img',{attrs:{\"src\":item.user.avatarUrl,\"alt\":\"\",\"title\":item.user.nickname}})]),_c('div',{staticClass:\"info\"},[_c('span',{on:{\"click\":function($event){return _vm.toUser(item.user.userId)}}},[_vm._v(\" \"+_vm._s(item.user.nickname)),_c('small',[_vm._v(\" · \"+_vm._s(_vm._f(\"formatTimeBefore\")(item.time)))])]),_c('p',[_vm._v(_vm._s(item.content))])])])}),0):_c('p',{staticClass:\"no-data-text\",staticStyle:{\"padding-bottom\":\"10px\"}},[_vm._v(\" \"+_vm._s(_vm.emptyComment)+\" \")])])]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"related module shadow\"},[_vm._m(1),(_vm.hotAlbums.length>0)?_c('ul',_vm._l((_vm.hotAlbums),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.toAlbumDetail(item.id)}}},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":item.picUrl,\"alt\":\"\",\"title\":item.name}})]),_c('div',{staticClass:\"info\"},[_c('h2',{staticClass:\"ellipsis\",attrs:{\"title\":item.name}},[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(\"By.\"),_c('small',[_vm._v(_vm._s(item.artist.name))])])])])}),0):_c('p',{staticClass:\"no-data-text\",staticStyle:{\"padding-bottom\":\"10px\"}},[_vm._v(\" \"+_vm._s(_vm.emptyAlbum)+\" \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"精彩评论\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"热门专辑\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <!-- 专辑详情页面 -->\n  <div class=\"album-detail container\">\n    <!-- 左侧 -->\n    <div class=\"left shadow\">\n      <!-- 左侧顶部 -->\n      <div class=\"top\">\n        <div class=\"avatar\">\n          <img :src=\"detail.picUrl\" alt=\"\">\n        </div>\n        <div class=\"info\">\n          <div class=\"title flex-row\">\n            <p>{{detail.name}}</p>\n          </div>\n          <div class=\"user flex-row\">\n            <div class=\"avatar\" @click=\"toSingerDetail(creator.id)\">\n              <img :src=\"creator.picUrl\" alt=\"\">\n            </div>\n            <span class=\"nickname\" @click=\"toSingerDetail(creator.id)\">\n              {{creator.name}}</span>\n            <span class=\"createTime\">\n              {{detail.publishTime | formatDate('YYYY-MM-DD')}} 创建\n            </span>\n          </div>\n          <div class=\"flex-row\">\n            发行公司：{{detail.company}}\n          </div>\n          <div class=\"desc\">\n            <p class=\"ellipsis-two\" v-html=\"detail.description\"></p>\n            <span class=\"flex-row\" v-if=\"txtLength(detail.description)>50\"\n              @click=\"openDesc(detail.description,detail.name)\">全部<i\n                class=\"iconfont niceiconfontyoujiantou-copy-copy-copy-copy\"></i></span>\n          </div>\n        </div>\n      </div>\n      <!-- 左侧内容：歌曲列表 -->\n      <!-- v-loading是element loading组件（加载+遮罩层）的指令方式 fullscreen是全屏遮罩修饰符 -->\n      <!-- 默认状况下，Loading 遮罩会插入到绑定元素的子节点 -->\n      <div class=\"content\" v-loading=\"screenLoading\">\n        <sheet-song-list :songs=\"songs\" :is-person=\"false\">\n        </sheet-song-list>\n      </div>\n      <!-- 左侧精彩评论 -->\n      <div class=\"comment\">\n        <div class=\"card-header flex-row\">\n          <span>精彩评论</span>\n        </div>\n        <ul v-if=\"comments.length>0\">\n          <li class=\"item\" v-for=\"item in comments\" :key=\"item.commentId\">\n            <div class=\"avatar\" @click=\"toUser(item.user.userId)\">\n              <img :src=\"item.user.avatarUrl\" alt=\"\"\n                :title=\"item.user.nickname\">\n            </div>\n            <div class=\"info\">\n              <span @click=\"toUser(item.user.userId)\">\n                {{item.user.nickname}}<small> ·\n                  {{item.time | formatTimeBefore}}</small>\n              </span>\n              <p>{{item.content}}</p>\n            </div>\n          </li>\n        </ul>\n        <p class=\"no-data-text\" v-else style=\"padding-bottom:10px;\">\n          {{emptyComment}}\n        </p>\n      </div>\n    </div>\n    <!-- 右侧 -->\n    <div class=\"right\">\n      <!-- 热门专辑 -->\n      <div class=\"related module shadow\">\n        <div class=\"card-header flex-row\">\n          <span>热门专辑</span>\n        </div>\n        <ul v-if=\"hotAlbums.length>0\">\n          <li v-for=\"item in hotAlbums\" :key=\"item.id\"\n            @click=\"toAlbumDetail(item.id)\">\n            <div class=\"avatar\">\n              <img :src=\"item.picUrl\" alt=\"\" :title=\"item.name\">\n            </div>\n            <div class=\"info\">\n              <h2 class=\"ellipsis\" :title=\"item.name\">{{item.name}}</h2>\n              <span>By.<small>{{item.artist.name}}</small></span>\n            </div>\n          </li>\n        </ul>\n        <p class=\"no-data-text\" v-else style=\"padding-bottom:10px;\">\n          {{emptyAlbum}}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { createSong } from '../../utils/untils'\nimport sheetSongList from '../../components/content/SheetSongList'\nexport default {\n  name: 'albumDetail',\n  data() {\n    return {\n      // 歌单详情\n      detail: {},\n      // 歌单创建者信息\n      creator: {},\n      // 专辑id\n      albumId: '',\n      // 评论\n      comments: [],\n      // 歌曲列表\n      songs: [],\n      // 热门专辑\n      hotAlbums: [],\n      // 遮罩并加载\n      screenLoading: false,\n      // 没有评论时显示的文本\n      emptyComment: '',\n      // 没有热门专辑时显示的文本\n      emptyAlbum: ''\n    }\n  },\n  components: {\n    sheetSongList\n  },\n  computed: {\n    // 专辑的描述文字的长度\n    txtLength() {\n      // 返回一个函数，传入detail.description，即会执行\n      return function(txt) {\n        if (txt) {\n          return txt.length\n        }\n      }\n    }\n  },\n  created() {\n    this.albumId = this.$route.query.id\n    this._initialize()\n  },\n  methods: {\n    // 获取专辑详情\n    async getAlbumData() {\n      this.screenLoading = true\n      try {\n        const res = await this.$api.getAlbumData(this.albumId)\n        if (res.code === 200) {\n          // ()标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。\n          // | 是 \"或\"，g是全局匹配\n          // 替换掉换行符为br标签\n          // replace方法返回一个新字符串\n          res.album.description = res.album.description.replace(\n            /(\\r\\n|\\n|\\r)/g,\n            '<br />'\n          )\n          this.detail = res.album\n          this.creator = res.album.artist\n          this.songs = this._normalizeSongs(res.songs)\n          this.screenLoading = false\n        }\n      } catch (e) {\n        this.screenLoading = false\n      }\n    },\n    // 获取歌手专辑\n    async getArtistAlbum() {\n      const params = {\n        // 歌手id\n        id: this.creator.id,\n        // 返回数量\n        limit: 10,\n        // 偏移量\n        offset: 0\n      }\n      const res = await this.$api.getArtistAlbum(params)\n      if (res.code === 200) {\n        this.hotAlbums = res.hotAlbums\n        if (res.hotAlbums.length === 0) {\n          this.emptyAlbum = '还没有其他专辑~'\n        }\n      }\n    },\n    // 获取专辑评论\n    async getAlbumComment() {\n      const params = {\n        // 专辑 id\n        id: this.albumId,\n        // 评论数量\n        limit: 30,\n        // 偏移量\n        offset: 0\n      }\n      const res = await this.$api.getAlbumComment(params)\n      if (res.code === 200) {\n        // 优先显示热门评论\n        if (res.hotComments.length > 0) {\n          this.comments = res.hotComments\n        } else {\n          this.comments = res.comments\n        }\n        if (this.comments.length === 0) {\n          this.emptyComment = '等你来评论~'\n        }\n      }\n    },\n    // 处理歌曲\n    _normalizeSongs(list) {\n      const arr = []\n      list.forEach(item => {\n        if (item.id) {\n          arr.push(createSong(item))\n        }\n      })\n      return arr\n    },\n    // 打开专辑介绍详情\n    openDesc(message, title) {\n      ELEMENT.MessageBox.alert(message, title, {\n        // 是否可通过点击遮罩关闭\n        closeOnClickModal: true,\n        // MessageBox 的自定义类名\n        customClass: 'descBox',\n        // 是否显示确认按钮\n        showConfirmButton: false,\n        // 是否将 message 属性作为 HTML 片段处理\n        dangerouslyUseHTMLString: true\n      }).catch(e => {})\n    },\n    // 跳转到专辑详情页面\n    toAlbumDetail(id) {\n      this.$router.push({\n        path: '/albumdetail',\n        query: { id }\n      })\n    },\n    // 跳转到歌手详情页面\n    toSingerDetail(id) {\n      this.$router.push({\n        path: '/singerdetail',\n        query: { id }\n      })\n    },\n    // 跳转到用户页面\n    toUser(id) {\n      this.$router.push({\n        path: '/personal',\n        query: { id }\n      })\n    },\n    // 初始化\n    async _initialize() {\n      // 因为creator要通过getAlbumData()获取\n      // 而getArtistAlbum()要用到creator.id\n      // 所以，getAlbumData要排在getArtistAlbum前面\n      await this.getAlbumData()\n      this.getArtistAlbum()\n      this.getAlbumComment()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.card-header {\n  height: 20px;\n  padding-left: 14px;\n  margin-bottom: 15px;\n  border-left: 3px solid #fa2800;\n  font-weight: 700;\n}\n.album-detail {\n  display: flex;\n  align-items: flex-start;\n  .left {\n    flex-shrink: 0;\n    width: 950px;\n    padding: 15px;\n    border-radius: 8px;\n    margin-right: 20px;\n    .top {\n      display: flex;\n      & > .avatar {\n        flex-shrink: 0;\n        position: relative;\n        width: 200px;\n        height: 200px;\n        border-radius: 8px;\n        margin-right: 30px;\n        img {\n          position: relative;\n          z-index: 1;\n          width: 100%;\n          height: 100%;\n          border-radius: 8px;\n        }\n        &::after {\n          content: '';\n          position: absolute;\n          top: 15px;\n          right: -5px;\n          z-index: 0;\n          width: 95%;\n          height: 95%;\n          border-radius: 8px;\n          background-color: rgba(0, 0, 0, 0.2);\n        }\n      }\n      .info {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        .title {\n          width: 100%;\n          line-height: 24px;\n          margin: 10px 0 20px 0;\n          font-size: 24px;\n          font-weight: 700;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n        .user {\n          margin-bottom: 15px;\n          .avatar {\n            position: relative;\n            width: 30px;\n            height: 30px;\n            margin-right: 15px;\n            border-radius: 50%;\n            cursor: pointer;\n            img {\n              width: 100%;\n              height: 100%;\n              border-radius: 50%;\n            }\n          }\n          .nickname {\n            font-size: 14px;\n            margin-right: 20px;\n            cursor: pointer;\n            transition: color 0.2s;\n            &:hover {\n              color: #fa2800;\n            }\n          }\n          .createTime {\n            font-size: 14px;\n            color: #808080;\n          }\n        }\n        .desc {\n          display: flex;\n          flex-direction: column;\n          line-height: 1.6;\n          margin-top: 15px;\n          p {\n            flex: 1;\n            font-size: 14px;\n          }\n          span {\n            flex-shrink: 0;\n            color: #fa2800;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n    .content {\n      margin: 20px 0 15px;\n    }\n    .comment {\n      padding: 20px 15px;\n      ul {\n        li {\n          display: flex;\n          width: 100%;\n          padding: 10px 0;\n          .avatar {\n            flex-shrink: 0;\n            width: 38px;\n            height: 38px;\n            margin-right: 12px;\n            border-radius: 50%;\n            cursor: pointer;\n            img {\n              width: 100%;\n              border-radius: 50%;\n            }\n          }\n          .info {\n            flex: 1;\n            span {\n              margin: 0 5px 10px 0;\n              font-size: 15px;\n              cursor: pointer;\n              small {\n                font-size: 12px;\n                color: #a5a5c1;\n                font-weight: 200;\n              }\n            }\n            p {\n              width: 100%;\n              padding: 5px 10px;\n              margin-top: 5px;\n              line-height: 1.6;\n              border-radius: 3px;\n              font-size: 12px;\n              color: #666;\n              background-color: #f5f5f5;\n            }\n          }\n        }\n      }\n    }\n  }\n  .right {\n    flex-shrink: 0;\n    width: 350px;\n    .module {\n      padding: 15px;\n      width: 100%;\n      border-radius: 8px;\n      margin-bottom: 20px;\n    }\n    .related {\n      padding-bottom: 5px;\n      ul {\n        li {\n          display: flex;\n          margin-bottom: 15px;\n          cursor: pointer;\n          .avatar {\n            flex-shrink: 0;\n            width: 50px;\n            height: 50px;\n            margin-right: 15px;\n            border-radius: 3px;\n            img {\n              width: 100%;\n              border-radius: 3px;\n            }\n          }\n          .info {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            height: 50px;\n            overflow: hidden;\n            h2 {\n              width: 100%;\n              height: 100%;\n              margin-bottom: 10px;\n              font-size: 14px;\n              color: #4a4a4a;\n              transition: color 0.2s;\n            }\n            span {\n              font-size: 12px;\n              color: #a5a5c1;\n            }\n            &:hover {\n              h2 {\n                color: #fa2800;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AlbumDetail.vue?vue&type=template&id=70efe47b&scoped=true&\"\nimport script from \"./AlbumDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./AlbumDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AlbumDetail.vue?vue&type=style&index=0&id=70efe47b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70efe47b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoDetail.vue?vue&type=style&index=0&id=7401c068&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoDetail.vue?vue&type=style&index=0&id=7401c068&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=e348d1c4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=e348d1c4&lang=scss&scoped=true&\"","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video-detail container\"},[_c('div',{staticClass:\"left shadow\"},[_c('div',{staticClass:\"video-container\"},[_c('video',{attrs:{\"src\":_vm.videoUrl,\"controls\":\"\",\"controlslist\":\"nodownload\"}})]),_c('div',{staticClass:\"video-foot\"},[_c('h2',{staticClass:\"title flex-row ellipsis\"},[_c('i',{staticClass:\"iconfont nicemv24\"}),_vm._v(\" \"+_vm._s(_vm.detail.name)+\" \")]),_c('div',{staticClass:\"tag\"},_vm._l((_vm.detail.videoGroup),function(item){return _c('a',{key:item.id},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0),_c('p',{staticClass:\"flex-row\"},[_c('span',[_vm._v(\"发布：\"+_vm._s(_vm._f(\"formatDate\")(_vm.detail.publishTime,'YYYY-MM-DD')))]),(_vm.detail.playTime)?_c('span',[_vm._v(\"播放次数：\"+_vm._s(_vm._f(\"transNum\")(_vm.detail.playTime,1)))]):_vm._e()]),_c('div',{staticClass:\"follow flex-row\"},[_c('div',{staticClass:\"box\",class:_vm.videoDetailInfo.isLike?'active':'',on:{\"click\":_vm.likeResource}},[_c('i',{staticClass:\"iconfont nicexihuan3 icon-like\"}),_vm._v(\" \"+_vm._s(_vm.videoDetailInfo.likedCount)+\" \")]),_c('div',{staticClass:\"box\"},[_c('i',{staticClass:\"iconfont niceshoucang2 icon-collection\"}),_vm._v(\" \"+_vm._s(_vm.detail.subCount)+\" \")]),_c('div',{staticClass:\"box\"},[_c('i',{staticClass:\"iconfont nicefenxiang2 icon-share\"}),_vm._v(\" \"+_vm._s(_vm.videoDetailInfo.shareCount)+\" \")])])]),_c('div',{staticClass:\"comment-wrap\"},[_c('div',{staticClass:\"title flex-row\"},[_c('i',{staticClass:\"iconfont nicepinglun\"}),_vm._v(\"Comments | \"),_c('span',[_vm._v(_vm._s(_vm.videoDetailInfo.commentCount)+\" 条评论\")])]),(_vm.currentCommentId==='')?_c('comment-box',{attrs:{\"clear-text\":_vm.clearText,\"current-comment-id\":_vm.currentCommentId,\"fontMaxLength\":1000},on:{\"commentsubmit\":_vm.commentSubmit,\"cancelcomment\":_vm.cancelComment}}):_vm._e(),(_vm.hotComments.length>0)?_c('div',{staticClass:\"hot-comment comment-list\"},[_vm._m(0),_vm._l((_vm.hotComments),function(item){return _c('div',{key:item.commentId},[_c('comment-line',{attrs:{\"comment\":item},on:{\"commentreply\":_vm.commentReply,\"commentlike\":_vm.commentLike,\"commentdelete\":_vm.commentDelete}}),(_vm.currentCommentId == item.commentId)?_c('comment-box',{attrs:{\"clear-text\":_vm.clearText,\"current-comment-id\":_vm.currentCommentId,\"fontMaxLength\":1000},on:{\"commentsubmit\":_vm.commentSubmit,\"cancelcomment\":_vm.cancelComment}}):_vm._e()],1)})],2):_vm._e(),_c('div',{staticClass:\"new-comment comment-list\"},[_vm._m(1),(_vm.comments.length>0)?_c('div',[_vm._l((_vm.comments),function(item){return _c('div',{key:item.commentId},[_c('comment-line',{attrs:{\"comment\":item},on:{\"commentreply\":_vm.commentReply,\"commentlike\":_vm.commentLike,\"commentdelete\":_vm.commentDelete}}),(_vm.currentCommentId == item.commentId)?_c('comment-box',{attrs:{\"clear-text\":_vm.clearText,\"current-comment-id\":_vm.currentCommentId,\"fontMaxLength\":1000},on:{\"commentsubmit\":_vm.commentSubmit,\"cancelcomment\":_vm.cancelComment}}):_vm._e()],1)}),_c('el-pagination',{attrs:{\"background\":\"\",\"hide-on-single-page\":\"\",\"current-page\":_vm.currentPage,\"page-sizes\":[15, 20, 30],\"page-size\":_vm.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.commentTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],2):_c('pretty-empty',{attrs:{\"empty-text\":\"等你来评论~\"}})],1)],1)]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"introduction module shadow\"},[_vm._m(2),_vm._l((_vm.artists),function(artist){return _c('div',{key:artist.id,staticClass:\"author\"},[_c('div',{staticClass:\"avatar\",on:{\"click\":function($event){return _vm.toSinger(artist.id)}}},[_c('img',{attrs:{\"src\":artist.img1v1Url,\"alt\":\"\"}})]),_c('p',{staticClass:\"name\",on:{\"click\":function($event){return _vm.toSinger(artist.id)}}},[_vm._v(_vm._s(artist.name)+\" \")])])}),(_vm.detail.desc)?_c('p',[_vm._v(_vm._s(_vm.detail.desc)+\" \")]):_c('p',[_vm._v(\"视频暂无简介~\")])],2),_c('div',{staticClass:\"related module shadow\"},[_vm._m(3),(_vm.relatedList.length>0)?_c('ul',{staticClass:\"mv-list flex-row\"},_vm._l((_vm.relatedList),function(item){return _c('li',{key:item.vid,class:{live:item.isLive}},[_c('div',{staticClass:\"cover\",on:{\"click\":function($event){return _vm.toDetailOrLive(item.vid,item.isLive)}}},[_c('el-image',{attrs:{\"src\":item.cover}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\",staticStyle:{\"font-size\":\"18px\"}})])]),_c('div',{staticClass:\"top flex-between\"},[_c('span',{staticClass:\"count\"},[_c('i',{staticClass:\"arrow\"}),_vm._v(_vm._s(_vm._f(\"transNum\")(item.playCount,1))+\" \")]),_c('span',[_vm._v(_vm._s(_vm._f(\"formatTime\")(item.duration)))])]),_vm._m(4,true)],1),_c('div',{staticClass:\"info\"},[_c('h2',{staticClass:\"title ellipsis\"},[_c('i',{staticClass:\"iconfont nicemv24\"}),_vm._v(\" \"+_vm._s(item.name)+\" \")]),_vm._v(\" By\"),_vm._l((item.artists),function(author){return _c('span',{key:author.id},[_c('small',[_vm._v(\" \"+_vm._s(author.name)+\" \")])])})],2)])}),0):_c('pretty-empty',{attrs:{\"empty-text\":\"暂无相关推荐视频~\"}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"精彩评论\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"最新评论\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"视频简介\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header flex-row\"},[_c('span',[_vm._v(\"相关推荐\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"action\"},[_c('button',{staticClass:\"play flex-center\"},[_c('i',{staticClass:\"iconfont nicebofang1\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <!-- MV详情页面 -->\n  <div class=\"video-detail container\">\n    <!-- 左侧 -->\n    <div class=\"left shadow\">\n      <!-- controls -->\n      <div class=\"video-container\">\n        <!-- controls 显示控件 -->\n        <!-- controlslist=\"nodownload\" 禁止下载 因为版权问题，不能下载 -->\n        <video :src=\"videoUrl\" controls controlslist=\"nodownload\"></video>\n      </div>\n      <div class=\"video-foot\">\n        <h2 class=\"title flex-row ellipsis\">\n          <i class=\"iconfont nicemv24\"></i>\n          {{detail.name}}\n        </h2>\n        <div class=\"tag\">\n          <a v-for=\"item of detail.videoGroup\" :key=\"item.id\">\n            {{item.name}}\n          </a>\n        </div>\n        <p class=\"flex-row\">\n          <span>发布：{{detail.publishTime | formatDate('YYYY-MM-DD')}}</span>\n          <span\n            v-if=\"detail.playTime\">播放次数：{{detail.playTime | transNum(1)}}</span>\n        </p>\n        <div class=\"follow flex-row\">\n          <div class=\"box\" :class=\"videoDetailInfo.isLike?'active':''\"\n            @click=\"likeResource\">\n            <i class=\"iconfont nicexihuan3 icon-like\"></i>\n            {{videoDetailInfo.likedCount}}\n          </div>\n          <div class=\"box\">\n            <i class=\"iconfont niceshoucang2 icon-collection\"></i>\n            {{ detail.subCount }}\n          </div>\n          <!-- 分享功能没写 -->\n          <div class=\"box\">\n            <i class=\"iconfont nicefenxiang2 icon-share\"></i>\n            {{ videoDetailInfo.shareCount }}\n          </div>\n        </div>\n      </div>\n      <div class=\"comment-wrap\">\n        <div class=\"title flex-row\">\n          <i class=\"iconfont nicepinglun\"></i>Comments |\n          <span>{{videoDetailInfo.commentCount}} 条评论</span>\n        </div>\n        <comment-box v-if=\"currentCommentId===''\" :clear-text=\"clearText\"\n          :current-comment-id=\"currentCommentId\" :fontMaxLength=\"1000\"\n          @commentsubmit=\"commentSubmit\" @cancelcomment=\"cancelComment\">\n        </comment-box>\n        <!-- 精彩评论 -->\n        <div class=\"hot-comment comment-list\" v-if=\"hotComments.length>0\">\n          <div class=\"card-header flex-row\">\n            <span>精彩评论</span>\n          </div>\n          <div v-for=\"item of hotComments\" :key=\"item.commentId\">\n            <comment-line :comment=\"item\" @commentreply=\"commentReply\"\n              @commentlike=\"commentLike\" @commentdelete=\"commentDelete\">\n            </comment-line>\n            <comment-box v-if=\"currentCommentId == item.commentId\"\n              :clear-text=\"clearText\" :current-comment-id=\"currentCommentId\"\n              :fontMaxLength=\"1000\" @commentsubmit=\"commentSubmit\"\n              @cancelcomment=\"cancelComment\">\n            </comment-box>\n          </div>\n        </div>\n        <!-- 最新评论，没有则等你来评论~ -->\n        <div class=\"new-comment comment-list\">\n          <div class=\"card-header flex-row\">\n            <span>最新评论</span>\n          </div>\n          <div v-if=\"comments.length>0\">\n            <div v-for=\"item of comments\" :key=\"item.commentId\">\n              <comment-line :comment=\"item\" @commentreply=\"commentReply\"\n                @commentlike=\"commentLike\" @commentdelete=\"commentDelete\">\n              </comment-line>\n              <comment-box v-if=\"currentCommentId == item.commentId\"\n                :clear-text=\"clearText\" :current-comment-id=\"currentCommentId\"\n                :fontMaxLength=\"1000\" @commentsubmit=\"commentSubmit\"\n                @cancelcomment=\"cancelComment\">\n              </comment-box>\n            </div>\n            <!-- 评论分页器 -->\n            <el-pagination @size-change=\"handleSizeChange\" background\n              @current-change=\"handleCurrentChange\" hide-on-single-page\n              :current-page.sync=\"currentPage\" :page-sizes=\"[15, 20, 30]\"\n              :page-size=\"limit\"\n              layout=\"total, sizes, prev, pager, next, jumper\"\n              :total=\"commentTotal\">\n            </el-pagination>\n          </div>\n          <pretty-empty v-else empty-text=\"等你来评论~\"></pretty-empty>\n        </div>\n      </div>\n    </div>\n    <!-- 右侧 -->\n    <div class=\"right\">\n      <!-- 视频简介 -->\n      <div class=\"introduction module shadow\">\n        <div class=\"card-header flex-row\">\n          <span>视频简介</span>\n        </div>\n        <div class=\"author\" v-for=\"artist of artists\" :key=\"artist.id\">\n          <div class=\"avatar\" @click=\"toSinger(artist.id)\">\n            <img :src=\"artist.img1v1Url\" alt=\"\">\n          </div>\n          <p class=\"name\" @click=\"toSinger(artist.id)\">{{artist.name}}\n          </p>\n        </div>\n        <p v-if=\"detail.desc\">{{detail.desc}}\n        </p>\n        <p v-else>视频暂无简介~</p>\n      </div>\n      <!-- 相关推荐 -->\n      <div class=\"related module shadow\">\n        <div class=\"card-header flex-row\">\n          <span>相关推荐</span>\n        </div>\n        <!-- 视频列表 -->\n        <ul class=\"mv-list flex-row\" v-if=\"relatedList.length>0\">\n          <!-- isLive：是否直播 -->\n          <li :class=\"{live:item.isLive}\" v-for=\"item in relatedList\"\n            :key=\"item.vid\">\n            <div class=\"cover\" @click=\"toDetailOrLive(item.vid,item.isLive)\">\n              <!-- 图片 -->\n              <el-image :src=\"item.cover\">\n                <!-- el-image 加载失败时内容 -->\n                <div slot=\"error\" class=\"image-slot\">\n                  <i class=\"el-icon-picture-outline\"\n                    style=\"font-size:18px;\"></i>\n                </div>\n              </el-image>\n              <!-- 播放数 播放时长 -->\n              <div class=\"top flex-between\">\n                <span class=\"count\">\n                  <i class=\"arrow\"></i>{{item.playCount | transNum(1)}}\n                </span>\n                <span>{{item.duration | formatTime}}</span>\n              </div>\n              <!-- 播放按钮 -->\n              <div class=\"action\">\n                <button class=\"play flex-center\">\n                  <i class=\"iconfont nicebofang1\"></i>\n                </button>\n              </div>\n            </div>\n            <div class=\"info\">\n              <h2 class=\"title ellipsis\">\n                <i class=\"iconfont nicemv24\"></i>\n                {{item.name}}\n              </h2>\n              By<span v-for=\"author of item.artists\" :key=\"author.id\">\n                <small>&emsp;{{author.name}}&emsp;</small>\n              </span>\n            </div>\n          </li>\n        </ul>\n        <pretty-empty v-else empty-text=\"暂无相关推荐视频~\"></pretty-empty>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport commentBox from '../../components/content/CommentBox'\nimport commentLine from '../../components/content/CommentLine'\nimport prettyEmpty from '../../components/common/PrettyEmpty'\nexport default {\n  data() {\n    return {\n      // 当前页码\n      currentPage: 1,\n      // 请求参数对象\n      // 请求的评论数量\n      limit: 15,\n      // 偏移量\n      offset: 0,\n      // 评论总数\n      commentTotal: 0,\n      // 视频详情\n      detail: {},\n      // 创作歌手数组\n      artists: [],\n      // 相关视频\n      relatedList: [],\n      // 热评\n      hotComments: [],\n      // 评论\n      comments: [],\n      // 想要回复的评论id\n      // 为''时即发表评论，不对评论回复\n      currentCommentId: '',\n      // 视频播放地址\n      videoUrl: '',\n      // 视频id\n      videoId: '',\n      // 视频的点赞、转发、评论数据对象\n      videoDetailInfo: {},\n      // 清空文本框\n      clearText: false\n    }\n  },\n  components: {\n    commentBox,\n    commentLine,\n    prettyEmpty\n  },\n  created() {\n    this.videoId = this.$route.query.id\n    this._initailze()\n  },\n  methods: {\n    // 发送评论\n    async commentSubmit(content) {\n      if (content.trim() === '') {\n        ELEMENT.Message('请输入内容')\n        return\n      } else {\n        let timestamp = new Date().getTime()\n        const params = {\n          // 0歌曲 1mv 2歌单 3专辑 4电台 5视频 6动态\n          type: 1,\n          id: this.videoId,\n          content,\n          timestamp\n        }\n        if (this.currentCommentId === '') {\n          // 发布评论\n          params.t = 1\n        } else {\n          // 回复评论\n          params.t = 2\n          params.commentId = this.currentCommentId\n        }\n        const res = await this.$api.commentSubmit(params)\n        if (res.code === 200) {\n          ELEMENT.Message.success('提交成功')\n          this.currentCommentId = ''\n          this.clearText = true\n          this.$nextTick(() => {\n            this.clearText = false\n          })\n          this.getMvDetailInfo()\n          this.getMvComments()\n        }\n      }\n    },\n    // 点击 取消回复 按钮\n    cancelComment() {\n      this.currentCommentId = ''\n    },\n    // 点击评论的回复按钮\n    async commentReply(id) {\n      this.currentCommentId = id\n    },\n    // 点赞/取消点赞评论\n    // liked是boolean值\n    async commentLike(cid, liked) {\n      let timestamp = new Date().getTime()\n      const params = {\n        id: this.videoId,\n        cid,\n        // 0歌曲 1mv 2歌单 3专辑 4电台 5视频 6动态\n        type: 1,\n        timestamp\n      }\n      if (liked) {\n        // 0取消点赞\n        params.t = 0\n      } else {\n        // 1点赞\n        params.t = 1\n      }\n      const res = await this.$api.commentLike(params)\n      if (res.code === 200) {\n        this.getMvComments(this.videoId)\n      }\n    },\n    // 删除评论\n    async commentDelete(id, content) {\n      let timestamp = new Date().getTime()\n      const params = {\n        // 0删除 1发布 2回复\n        t: 0,\n        // 0歌曲 1mv 2歌单 3专辑 4电台 5视频 6动态\n        type: 1,\n        id: this.videoId,\n        commentId: id,\n        timestamp\n      }\n      const res = await this.$api.commentDelete(params)\n      if (res.code === 200) {\n        ELEMENT.Message.success('删除成功')\n        this.getMvDetailInfo()\n        this.getMvComments()\n      }\n    },\n    // 资源点赞/取消点赞\n    async likeResource() {\n      // 1mv 4电台 5视频 6动态\n      let type = 1\n      // 1点赞 其余为取消点赞\n      let t = 1\n      if (this.videoDetailInfo.isLike) {\n        t = 2\n      }\n      let timestamp = new Date().getTime()\n      const params = {\n        t,\n        type,\n        id: this.videoId,\n        timestamp\n      }\n      const res = await this.$api.likeResource(params)\n      if (res.code === 200) {\n        this.getMvDetailInfo()\n      }\n    },\n    // 获取mv播放地址\n    async getMvUrl() {\n      try {\n        const res = await this.$api.getMvUrl(this.videoId)\n        if (res.code === 200) {\n          this.videoUrl = res.data.url\n        }\n      } catch (e) {\n        ELEMENT.Message('视频无法加载，请重新刷新一下~')\n      }\n    },\n    // 获取mv数据\n    async getMvDetail() {\n      const res = await this.$api.getMvDetail(this.videoId)\n      if (res.code === 200) {\n        res.data.videoGroup.forEach(item => {\n          item.name = item.name.replace(/#/g, '')\n        })\n        this.detail = res.data\n        this.artists = res.data.artists\n      }\n    },\n    // 获取mv的点赞、转发、评论数\n    async getMvDetailInfo() {\n      let timestamp = new Date().getTime()\n      const params = {\n        mvid: this.videoId,\n        timestamp\n      }\n      const res = await this.$api.getMvDetailInfo(params)\n      if (res.code === 200) {\n        const detail = {\n          isLike: res.liked,\n          likedCount: res.likedCount,\n          shareCount: res.shareCount,\n          commentCount: res.commentCount\n        }\n        this.videoDetailInfo = detail\n      }\n    },\n    // 获取mv评论\n    async getMvComments() {\n      let timestamp = new Date().getTime()\n      const params = {\n        id: this.videoId,\n        limit: this.limit,\n        offset: this.offset,\n        timestamp\n      }\n      const res = await this.$api.getMvComments(params)\n      if (res.code === 200) {\n        this.commentTotal = res.total\n        this.hotComments = res.hotComments || []\n        this.comments = res.comments || []\n      }\n    },\n    // 获取相似mv\n    async getMvRelated() {\n      const res = await this.$api.getMvRelated(this.videoId)\n      if (res.code === 200) {\n        this.relatedList = res.mvs\n      }\n    },\n    // 跳转到视频详情页面或直播页面\n    toDetailOrLive(id, isLive) {\n      if (isLive) {\n        // 新窗口打开\n        window.open(`https://iplay.163.com/live?id=${id}`, '_blank')\n      } else {\n        this.$router.push({\n          path: '/mvdetail',\n          query: { id }\n        })\n      }\n    },\n    // 跳转到歌手详情页面\n    toSinger(id) {\n      this.$router.push({\n        path: '/singerdetail',\n        query: { id }\n      })\n    },\n    // 改变每页显示的评论个数\n    handleSizeChange(val) {\n      this.limit = val\n      this.offset = val * (this.currentPage - 1)\n      this.getMvComments()\n    },\n    // 改变评论页码\n    handleCurrentChange(val) {\n      this.currentPage = val\n      this.offset = (val - 1) * this.limit\n      this.getMvComments()\n    },\n    // 初始化\n    _initailze() {\n      this.getMvUrl()\n      this.getMvDetail()\n      this.getMvDetailInfo()\n      this.getMvComments()\n      this.getMvRelated()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.card-header {\n  height: 20px;\n  padding-left: 14px;\n  margin-bottom: 15px;\n  border-left: 3px solid #fa2800;\n  font-weight: 700;\n}\n.video-detail {\n  display: flex;\n  .left {\n    flex: 1;\n    padding: 15px;\n    margin-right: 20px;\n    border-radius: 8px;\n    .video-container {\n      // 视频播放器占位\n      position: relative;\n      width: 100%;\n      padding-top: 56.25%;\n      video {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        border-radius: 3px;\n        background-color: #333;\n      }\n    }\n    .video-foot {\n      margin-top: 8px;\n      h2 {\n        i {\n          margin-right: 10px;\n          font-size: 26px;\n          color: #f0280d;\n        }\n      }\n      .tag {\n        margin: 10px 0 8px;\n        cursor: default;\n        a {\n          display: inline-block;\n          padding: 5px 15px;\n          margin-right: 15px;\n          border-radius: 15px;\n          color: #fff;\n          font-weight: normal;\n          background-color: #fa2800;\n        }\n      }\n      p {\n        span {\n          margin-right: 30px;\n          font-size: 12px;\n          color: #999;\n        }\n      }\n      .follow {\n        margin-top: 10px;\n        .box {\n          display: flex;\n          align-items: center;\n          padding: 0 10px;\n          border-radius: 15px;\n          margin-right: 15px;\n          text-align: center;\n          background-color: #f2f2f2;\n          color: #161e27;\n          cursor: pointer;\n          i {\n            font-size: 26px;\n          }\n          &.active {\n            color: #fff;\n            background-color: #fa2800;\n          }\n        }\n      }\n    }\n    .comment-wrap {\n      margin-top: 25px;\n      .title {\n        width: 100%;\n        height: 50px;\n        border-bottom: 1px solid #f1f1f1;\n        i {\n          margin-right: 10px;\n          font-size: 18px;\n          color: #666;\n        }\n        span {\n          margin-left: 5px;\n        }\n      }\n      .comment-list {\n        width: 100%;\n        margin-top: 20px;\n        .el-pagination {\n          margin-top: 20px;\n        }\n      }\n    }\n  }\n  .right {\n    flex-shrink: 0;\n    width: 350px;\n    .module {\n      width: 100%;\n      padding: 15px;\n      margin-bottom: 20px;\n      border-radius: 8px;\n    }\n    .introduction {\n      .author {\n        display: flex;\n        align-items: center;\n        margin: 5px 0 15px;\n        .avatar {\n          width: 40px;\n          height: 40px;\n          margin-right: 15px;\n          border-radius: 50%;\n          cursor: pointer;\n          img {\n            width: 100%;\n            height: 100%;\n            border-radius: 50%;\n          }\n        }\n        .name {\n          flex: 1;\n          cursor: pointer;\n          transition: color 0.2s;\n          &:hover {\n            color: #fa2800;\n          }\n        }\n      }\n    }\n    .related {\n      padding-bottom: 0;\n      .mv-list {\n        flex-wrap: wrap;\n        margin: 0 -15px;\n        padding: 15px 0;\n        li {\n          flex: 0 0 100%;\n          max-width: 100%;\n          padding: 0 15px 20px;\n          .cover {\n            // 图片未加载完成占位\n            position: relative;\n            padding-top: 56%;\n            border-radius: 5px;\n            cursor: pointer;\n            .el-image {\n              position: absolute;\n              top: 0;\n              left: 0;\n              z-index: 1;\n              width: 100%;\n              height: 100%;\n              border-radius: 5px;\n              overflow: hidden;\n              ::v-deep img {\n                transition: transform 0.3s;\n              }\n            }\n            .top {\n              position: absolute;\n              top: 0;\n              left: 0;\n              z-index: 2;\n              width: 100%;\n              padding: 5px 10px;\n              border-top-left-radius: 5px;\n              border-top-right-radius: 5px;\n              color: #f3f3f3;\n              font-weight: 500;\n              background-image: linear-gradient(\n                to bottom,\n                rgba(0, 0, 0, 0.7),\n                transparent\n              );\n              .count {\n                i {\n                  display: inline-block;\n                  width: 0;\n                  height: 0;\n                  border-style: solid;\n                  border-width: 5px 0 5px 6px;\n                  border-color: transparent transparent transparent #fff;\n                  margin-right: 5px;\n                }\n              }\n            }\n            .action {\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              z-index: 2;\n              transform: translate(-50%, -50%);\n              opacity: 0;\n              transition: opacity 0.3s;\n              .play {\n                width: 32px;\n                height: 32px;\n                padding: 0;\n                border: 0;\n                border-radius: 50%;\n                color: #fff;\n                font-size: 12px;\n                background-color: #fa2800;\n                cursor: pointer;\n                i {\n                  position: relative;\n                  left: 1px;\n                }\n              }\n            }\n            &:hover {\n              .el-image {\n                ::v-deep img {\n                  transform: scale(1.1);\n                }\n              }\n              .action {\n                opacity: 1;\n              }\n            }\n          }\n          .info {\n            margin-top: 12px;\n            color: #a5a5c1;\n            .title {\n              margin-bottom: 5px;\n              line-height: 1.3;\n              font-size: 15px;\n              font-weight: 500;\n              color: #4a4a4a;\n              i {\n                margin-right: 10px;\n                font-size: 26px;\n                color: #f0280d;\n              }\n            }\n            span {\n              font-size: 12px;\n              color: #a5a5c1;\n            }\n          }\n          &.live {\n            .cover {\n              .top {\n                background-image: linear-gradient(\n                  to bottom,\n                  rgba(250, 40, 0, 0.75),\n                  transparent\n                );\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MvDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MvDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MvDetail.vue?vue&type=template&id=7b870ad7&scoped=true&\"\nimport script from \"./MvDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./MvDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MvDetail.vue?vue&type=style&index=0&id=7b870ad7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b870ad7\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}